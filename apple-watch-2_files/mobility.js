function onKeydownTooltip(n){var t=n.keyCode,i;27===t?$(this).tooltip("hide"):(32===t||13===t)&&(n.preventDefault(),n.stopPropagation(),i=$(this),i.tooltip("show"))}function tooltipKeypress(){$(".tooltip-interactive").on("keypress",function(n){(n.keyCode==13||n.keyCode==32)&&$(this).trigger("click")})}function deviceMemoryKeypress(){$(".tile-color-round").on("keypress",function(n){(n.keyCode==13||n.keyCode==32)&&$(this).trigger("click")})}function reSizePlanRate(){var n=$(".plan-rate-container-js");n.each(function(){var n=$(this).find(".plan-item");window.matchMedia("(max-width: 767px)").matches?n.css("width","100%"):n.length===4?n.css("width","25%"):n.css("width","33.33%")})}function hideInactiveSlides(){$(".hiddenInactive").on("afterChange",function(){$(this).find('.slick-slide[aria-hidden="true"]').addClass("offscreen");$(this).removeClass("sliding")});$(".hiddenInactive").on("beforeChange",function(){$(this).find('.slick-slide[aria-hidden="true"]').removeClass("offscreen");$(this).addClass("sliding")});let n=!1;$(".hiddenInactive").on("mousedown",function(){n=!0});$(".hiddenInactive").on("mouseup",function(){n=!1});$(".hiddenInactive").on("mousemove",function(){n&&$(this).find('.slick-slide[aria-hidden="true"]').removeClass("offscreen")})}function checkUrlForXSS(n){return n.replace(/(script|\)|\(|\>|\<)/ig,"")}function sanitizeHTML(n){return String(n).replace(/%/g,"").replace(/-/g,"").replace(/u0027/g,"").replace(/alert/g,"").replace(/sql/g,"").replace(/%22/g,"").replace(/%27/g,"")}function youTubeIframeApi(){var n=document.createElement("script"),t=document.getElementsByTagName("script")[0];n.src="https://www.youtube.com/iframe_api";t.parentNode.insertBefore(n,t);window.onYouTubeIframeAPIReady=function(){initializeVideoPlayers();videoModal?modalVideoPlayer.initialize():""}}function createVideoPlayer(n,t,i){window.videoPlayers[t]=new YT.Player(i,{videoId:n,playerVars:{rel:0}})}function handleTooltipEscape(){let n={ESC:"Escape"};hideTooltip=function(){let n=$(".tooltip.show");return n.length>0?!0:!1};handleEscape=function(t){t.key===n.ESC&&hideTooltip()&&$(".tooltip.show").tooltip("hide")};document.addEventListener("keydown",handleEscape)}function destinationAddOnTabsEventListener(){if($("#selectDestination").length>0)$("#selectDestination").on("change",function(){var t=$(this),n=t.closest(".destination-selection").next();n.find("#no-value").removeClass("d-block");n.children().hide();n.find("#"+t.val()).show();processSameHeightElements()})}function initializeScrollableTable(){$(".scrollableContainer-js").on("scroll",function(){var n=$(this),i=n.scrollLeft(),u=n.width(),r=n.get(0).scrollWidth,t=n.closest("[class^=scrollableContainerShadow]");r>n.get(0).clientWidth+1?(i===0?t.removeClass("left"):t.addClass("left"),i+u===r?t.removeClass("right"):t.addClass("right")):n.closest("[class^=scrollableContainerShadow]").removeClass("left").removeClass("right")});$(window).resize(function(){window.matchMedia("(max-width: 991px)").matches?$(".scrollableContainer-js").trigger("scroll"):$(".same-height-modal [class^=scrollableContainerShadow]").removeClass("left").removeClass("right")})}function checkScrollLocation(){if($(".scrollable-area").length>0){var n=window.pageYOffset||document.documentElement.scrollTop;FloatingSubNav.checkIfNotMobile()===!1?(FloatingSubNav.checkScrollPos(n),FloatingSubNav.checkScrollableActiveSection(n)):FloatingSubNav.positionToRelative(".subnav-scroll")}}function clickDragScroll_table(){const n=document.querySelectorAll(".clickdragscroll"),t=n.length;if(t>0){let i=!1,r,u;for(let f=0;f<t;f++){let t=n[f];t.addEventListener("mousedown",function(n){i=!0;t.classList.add("active");r=n.pageX-t.offsetLeft;u=t.scrollLeft});t.addEventListener("mouseleave",function(){i=!1;t.classList.remove("active")});t.addEventListener("mouseup",function(){i=!1;t.classList.remove("active")});t.addEventListener("mousemove",function(n){if(i){n.preventDefault();const f=n.pageX-t.offsetLeft,e=(f-r)*3;t.scrollLeft=u-e}})}}}function checkboxFilter(){$(".checkbox-filter").on("change",function(){let f=$(this),r=f.closest(".js-checkbox-filter-wrap"),e=r.data("partial"),u={};f.prop("checked")?$("label[for="+f.prop("id")+"]").addClass("checked"):$("label[for="+f.prop("id")+"]").removeClass("checked");let o=$(".checkbox-filter:checked");if(o.length==0)n(r);else{t();let s=r.find(".card-content");s.each(function(n){let t=$(this),i=t.data("category").split(" ");o.each(function(){let r=$(this).val();i.indexOf(r)>-1&&(u[n]||(u[n]=t))})});let f;Object.keys(u).forEach(function(n){f=r.find(".card-content").not(".d-none");e?f.length<e&&u[n].removeClass("d-none"):u[n].removeClass("d-none")});let n=r.find(".js-view-more-wrap");Object.keys(u).length<=e?n.hide():n.show();r.find(".js-view-more").off("click");r.find(".js-view-more").on("click",function(t){t.preventDefault();i(u);n.hide()})}});let n=function(n){let r=n.data("partial"),u=n.find(".card-content");t();u.each(function(t){let f=t+1;if(r){f<=r&&$(this).removeClass("d-none");let t=n.find(".js-view-more-wrap");u.length<=r?t.hide():t.show();n.find(".js-view-more").off("click");n.find(".js-view-more").on("click",function(n){n.preventDefault();let r=[];u.each(function(){r.push($(this))});i(r);t.hide()})}else $(this).removeClass("d-none")})},t=function(){$(".card-content").addClass("d-none")},r=$(".js-checkbox-filter-wrap");r.each(function(){n($(this))});let i=function(n){Object.keys(n).forEach(function(t){n[t].removeClass("d-none")})}}function viewBrandItems(){$(document).on("click",".view-all-js",function(){$($(this).attr("data-id")).click()})}function tilesViewBrandItems(){setTimeout(function(){$("a.txtUnderline.clickable-card.view-all-js").each(function(){$(this).on("click",function(){$($(this).attr("data-id")).click()})})},1e3)}function setBrand(){var t=window.location.search,i,r;t=sanitizeHTML(t);if(t!==""&&t.indexOf("?filter=")>-1&&t.toLowerCase().indexOf("_brand")>-1){var u=t.indexOf("?filter=")+8,f=t.toLowerCase().indexOf("_brand"),n=t.substring(u,f).toLowerCase();n="#"+n.charAt(0).toUpperCase()+n.slice(1).toLowerCase();i=n.toLocaleLowerCase().includes("all");r=n.toLocaleLowerCase().includes("other");r&&(n=`#${"More"}`);$(n).length==0&&(n=n.toUpperCase());$(n).trigger("change");i||($("#filter-controls").hide(),$(".dl-list-single-category").hide())}}function loadOpacityDots(){$(".box-shadow-slick").each(function(){var n=$(this),t,i;$(window).width()>991?(t=n.find(".slick-slide").length,t<=3&&n.hasClass("slick-initialized")&&n.slick("unslick")):$(window).width()<768&&(i=n.find(".slick-dots li").length,i>7&&(n.addClass("opacityDots"),n.find(".slickDots-container").length==0&&n.find("ul.slick-dots").wrap("<div class='slickDots-container'><\/div>"),n.find("ul.slick-dots li").each(function(n){var t=$(this);t.addClass("dot-index-"+n)}),n.find("ul.slick-dots li").eq(5).addClass("opacity-50"),n.find("ul.slick-dots li").eq(6).addClass("opacity-20")))});var n=0,t=-18,i=18;$(".opacityDots").on("beforeChange",function(r,u,f,e){var o=$(this),s=o.find(".slick-dots li").length,h;e<4?(n=0,o.find("ul.slick-dots").css("transform","translateX(0px)"),o.find(".slick-dots li").removeClass(["opacity-20","opacity-50"]),o.find("ul.slick-dots li:eq(5)").addClass("opacity-50"),o.find("ul.slick-dots li:gt(5)").addClass("opacity-20"),e==2?o.find("ul.slick-dots li:eq(0)").addClass("opacity-50"):e==3&&(o.find("ul.slick-dots li:eq("+(e-2)+")").addClass("opacity-50"),o.find("ul.slick-dots li:eq("+(e+2)+")").addClass("opacity-50"),o.find("ul.slick-dots li:lt("+(e-2)+")").addClass("opacity-20"),o.find("ul.slick-dots li:gt("+(e+2)+")").addClass("opacity-20"))):e>=3&&e<=s-4?(e>=4&&(e>f?(n=n+t,o.find("ul.slick-dots li.dot-index-"+e).hasClass("opacity-50")?n=n+t:o.find("ul.slick-dots li.dot-index-"+e).hasClass("opacity-20")&&(n=n+t*2)):e<s-4&&(n=n+i,o.find("ul.slick-dots li.dot-index-"+e).hasClass("opacity-50")?n=n+i:o.find("ul.slick-dots li.dot-index-"+e).hasClass("opacity-20")&&(n=n+i*2)),o.find("ul.slick-dots").css("transform","translateX("+n+"px)")),o.find(".slick-dots li").removeClass(["opacity-20","opacity-50"]),o.find("ul.slick-dots li:eq("+(e-2)+")").addClass("opacity-50"),o.find("ul.slick-dots li:eq("+(e+2)+")").addClass("opacity-50"),o.find("ul.slick-dots li:lt("+(e-2)+")").addClass("opacity-20"),o.find("ul.slick-dots li:gt("+(e+2)+")").addClass("opacity-20")):e>s-4&&(f<s-4&&(h=s-1-e,n=n+t*h,o.find("ul.slick-dots").css("transform","translateX("+n+"px)")),o.find(".slick-dots li").removeClass(["opacity-20","opacity-50"]),o.find("ul.slick-dots li:eq("+(s-6)+")").addClass("opacity-50"),o.find("ul.slick-dots li:lt("+(s-6)+")").addClass("opacity-20"),e==s-3&&o.find("ul.slick-dots li:last-child").addClass("opacity-50"))})}function forceSkipSameHeightMobile(){window.matchMedia("(max-width: 767px)").matches&&$("[data-same-height-skip-mobile]").length>0&&setTimeout(function(){$("[data-same-height-skip-mobile]").each(function(){$(this).find("[data-same-height-index]").css({"min-height":""})})},300)}function starRating(){let n=$(".star-rating");n.each(function(){starRatingEvent($(this))})}function starRatingEvent(n){$(n).find("label").hover(function(){let t=$(n).find("label");$(n).find("label").removeClass("blue-star");t.each(function(){let n=$(this);return n.addClass("blue-star"),n.is(":hover")?!1:void 0})},function(){let t=$(n).find("label");t.each(function(n){let t=$(this),i=$(this).closest(".star-rating").attr("data-rating");n+1>i?t.removeClass("blue-star"):t.addClass("blue-star")})});$(".star-rating input").focus(function(){let t=$(".star-rating input"),n=$(".star-rating label");$(".star-rating label").removeClass("blue-star");n.each(function(){let n=$(this),t=n.attr("for");return n.addClass("blue-star"),$(".star-rating input#"+t).is(":focus")?!1:void 0})});$(".star-rating input").on("click",function(){let n=$(this),t=n.closest(".star-rating");t.attr("data-rating",n.val())})}function ratePlanCarousel(){try{let n=$(".rp-unlimited-list .rateplan-carousel").not(".slick-initialized"),t=n.parent(),i=n.children(),u=i.length>=4?4:i.length,r=$(".rp-unlimited-list .rateplan-carousel").data("slick-mobile")===!0;r&&window.matchMedia("(max-width: 767px)").matches&&t.find("[data-same-height-skip]").length>0&&setTimeout(function(){t.find("[data-same-height-skip]").each(function(){$(this).removeAttr("data-same-height-skip")})},300);$(".rp-unlimited-list .rateplan-carousel").not(".slick-initialized").slick({dots:!0,arrows:!0,infinite:!1,slidesToShow:u,slidesToScroll:1,draggable:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2,draggable:!0}},{breakpoint:640,settings:r?{slidesToShow:1,slidesToScroll:1,draggable:!0}:"unslick"}]})}catch(n){}}function viewMorePlans(){if($(window).width()<640){$(".rateplan-carousel .rateplan-inner-slider").length<=4&&$(".view-more-plans").addClass("hide");$(".view-more-plans").on("click",function(n){n.preventDefault();$(".rateplan-carousel .rateplan-inner-slider").slice(0,10).slideDown();$(".rateplan-carousel .rateplan-inner-slider:hidden").length==0&&$(".view-more-plans").addClass("hide")})}}function initProductThumbnailModalSlick(){$(".modal-Product-Details-js").each(function(){$(this).click(function(){if($(".product-slider").hasClass("slick-initialized")){var t=$(".product-slider").slick("slickCurrentSlide"),n=$(".product-modal-slider");setTimeout(function(){n.slick("refresh")},0);n.slick("slickGoTo",t);n.on("init afterChange",function(){let n=$(this);setTimeout(function(){n.find(".slick-slide.slick-active").attr("tabindex",0)},100)})}})});$(function(){$(".slick-next.slick-arrow").on("click",function(){$(this).addClass("slick-active-arrow").focus();$(".slick-prev.slick-arrow").removeClass("slick-active-arrow")});$(".slick-prev.slick-arrow").on("click",function(){$(this).addClass("slick-active-arrow").focus();$(".slick-next.slick-arrow").removeClass("slick-active-arrow")})})}function accordionTab(){let n=$(".accordionTab.show"),t=$("#"+n.data("panel")),i=$(n).find(".accordionTab-detail");t.addClass("panelFadeIn");i.addClass("tabDescriptionFadeIn");accordionthumbHeight($(n))}function accordionthumbHeight(n){let t=$(".tab-track-thumb");t.length>0&&(setTimeout(function(){let i=n.position();$(t).css("top",i.top+"px");$(t).css("height",n.outerHeight()+"px")},5),setTimeout(function(){let i=n.position();$(t).css("height",n.outerHeight()+"px");$(t).css("top",i.top+"px")},90),setTimeout(function(){let i=n.position();$(t).css("height",n.outerHeight()+"px");$(t).css("top",i.top+"px")},180),setTimeout(function(){let i=n.position();$(t).css("top",i.top+"px");$(t).css("height",n.outerHeight()+"px")},330))}function thumbHeightResize(){let t=$(".collapse-accordion-accessible-toggle.show"),n=$(t).closest(".accordionTab");n.length>0&&accordionthumbHeight($(n))}function updateSlickDots(n,t){setTimeout(function(){n.attr("tabindex",0);t.find('.slick-dots li:not(".slick-active") button').attr("tabindex",-1);t.find(".slick-dots button").removeAttr("aria-selected");n.attr("aria-selected",!0)})}function removalSlickControl(){setTimeout(function(){$infoblock_slider.find(".slick-slide").removeAttr("aria-labelledby")});setTimeout(function(){$(window).width()<=768?$("ul.slick-dots li").attr("aria-hidden","false"):$("ul.slick-dots li").attr("aria-hidden","true")},500)}function setSlickLabel(n){setTimeout(function(){let t=n.find('.slick-slide[role="tabpanel"]');t.each(function(){let n=$(this).attr("aria-describedby");$(this).attr("aria-labelledby",n);$(this).removeAttr("aria-describedby")});let i=$infoblock_slider.find(".slick-next"),r=$infoblock_slider.find(".slick-prev");slickArrow_ariaLabelPrevText&&r.attr("aria-label",slickArrow_ariaLabelPrevText);slickArrow_ariaLabelNextText&&i.attr("aria-label",slickArrow_ariaLabelNextText)})}function setSlickDotsLabel(n){setTimeout(function(){let t=n.data("slick")?n.data("slick"):n;if(t.slickDotsList){let t=$(".js-model-title").text();n.find(".slick-dots").attr("aria-label",t)}if(t.dots||n.find(".slick-dots button")){let i=n.data("slick-title"),r=n.find(".slick-dots li"),t=n.find(".slick-dots button");t.length==0&&(t=n.siblings(".slick-dots").find("button"));t.each(function(n){let r=i?i:"";$(this).attr("aria-label",r+" "+(n+1)+" of "+t.length)});r.removeAttr("role").attr("aria-hidden","true")}let i=$infoblock_slider.find(".slick-dots[role='tablist']");dotsOfInfoblockSlider_carouselText&&i.attr("aria-label",dotsOfInfoblockSlider_carouselText);dotsOfInfoblockSlider_ariaDescriptionText&&i.attr("aria-description",dotsOfInfoblockSlider_ariaDescriptionText)})}function setTabindex(){setTimeout(function(){$(".js-carousel-view-container .slick-list .slick-slide").removeAttr("tabindex");$(".js-carousel-view-container .slick-slide:not(.slick-active) a").attr("tabindex",-1);$(".js-carousel-view-container .slick-dots .slick-active button").attr("tabindex",0);$("a.card-link-js").removeAttr("tabindex")},500)}function switchDeviceColor(){$(document).on("click",".tile-color-round-2",function(){$(this).closest(".color-pallette-js").find(".selected-color-pallette").removeClass("selected-color-pallette");$(this).closest(".color-pallette-js").find(".tile-color-round-2").attr("aria-checked","false");$(this).addClass("selected-color-pallette");$(this).attr("aria-checked","true")});let n=window.navigator.userAgent,t=n.indexOf("MSIE ");if(t>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))$(document).on("keydown",".tile-color-round-2",function(n){var t=n.keyCode?n.keyCode:n.which;t==13&&($(this).closest(".color-pallette-js").find(".selected-color-pallette").removeClass("selected-color-pallette"),$(this).closest(".color-pallette-js").find(".tile-color-round-2").attr("aria-checked","false"),$(this).addClass("selected-color-pallette"),$(this).attr("aria-checked","true"))});else $(document).on("keypress",".tile-color-round-2",function(n){var t=n.keyCode?n.keyCode:n.which;t==13&&($(this).closest(".color-pallette-js").find(".selected-color-pallette").removeClass("selected-color-pallette"),$(this).closest(".color-pallette-js").find(".tile-color-round-2").attr("aria-checked","false"),$(this).addClass("selected-color-pallette"),$(this).attr("aria-checked","true"))})}function lazyLoad(n){var t=n;setTimeout(function(){var n;typeof jQuery.fn.Lazy=="function"&&(n=t.find("img.lazy"),n.Lazy({effect:"fadeIn"}))},100)}function verticalNav(){$("ul.tabs.link-mode li").off("click");$(".custom-selection.link-mode").off("change");$(".custom-selection.link-mode").on("change",function(){let n=$(this).val();window.location.href=n})}function setProvinceLabel(){setFocusTimeout(function(){let n=$(".simplified_header .federal-bar-select-provinces-popup .checkboxes a");n.each(function(){let n=$.trim($(this).find(".label-text").text());$(this).hasClass("active")?$(this).attr("aria-label",n+" (currently selected region)"):$(this).attr("aria-label",n)})})}function focusRegion(n){var t=n.keyCode;27===t&&$(".trigger-popup").focus()}function processModalSameHeight(){setTimeout(function(){processSameHeightElements()},200)}function modalTriggerReturnFocus(){let n;$(document).on("click",'input, [data-toggle="modal"], [data-toggle="video-modal"]',function(){n=$(this)});$("body").on("hidden.bs.modal",".modal ",function(){n&&(n.focus(),n="")})}function createIconName(){return members==1?"icon-o-1member":"icon-o-"+members+"members"}function memberCountPicker(){var i,t;let n=$("div[data-default-member-count]");if(i=n.data("max-member"),n.length>0){members==0&&(members=n.data("default-member-count"));let r=createIconName();n.find('[class*="icon-o-"]').hide();n.find("."+r).show();n.find('[class*="member-text-"]').hide();n.find(".member-text-"+members).show();t=n.closest("section");t.find('[class*="savings-"]').hide();t.find(".savings-"+members).show();t.find(".minus-member-js").prop("disabled",!1);t.find(".add-member-js").prop("disabled",!1);members==1?t.find(".minus-member-js").prop("disabled",!0):members==i&&t.find(".add-member-js").prop("disabled",!0)}}function bottomSticky(){const n=$(".bottom-sticky-js");if(n.length>0){const t=n.height();if($("footer").css("margin-bottom",t+"px"),window.matchMedia("(max-width: 767.98px)").matches)$("*:not(.bottom-sticky-js *)").on("focus",function(){const n=$(window).height(),i=$(this).offset().top-$(window).scrollTop()+$(this).height(),r=n-t;i>r&&$(window).scrollTop($(this).offset().top-(n-(t+$(this).height()*2)))})}}function compareAppleWatchColorTitle(){$(".page-code_prsshpwls-smartwatch-compare .colornav-swatch-3ld1eg0").each(function(){var n=$(this).attr("aria-label");$(this).attr("title",n)})}function trackOpenEsimCompatibleDevicesModal(){}var ignoreList,resizeTimeoutFn,displayAccordionMoreAndLess,FloatingSubNav,winWidth,winHeight,BELL;$(function(){function t(n){var t=$("."+n.data("column")),i=n.val();Object.keys(iphones).forEach(function(n){var r=iphones[n];n===i&&(t.find(".iphone-image").html(r["iphone-image"]),t.find(".iphone-size").html(r["iphone-size"]),t.find(".iphone-display").html(r["iphone-display"]),t.find(".iphone-network-icon").html(r["iphone-network-icon"]),t.find(".iphone-network-info").html(r["iphone-network-info"]),t.find(".iphone-camera-icon").html(r["iphone-camera-icon"]),t.find(".iphone-battery-info").html(r["iphone-battery-info"]),t.find(".iphone-colors").html(r["iphone-colors"].map(function(n){return'<figure class="apple-swatch" style="background-color:'+n+'"><\/figure>'})),t.find(".iphone-camera-features").html(r["iphone-camera-features"].map(function(n){return'<div class="margin-b-15 margin-b-lg-20">'+n+"<\/div>"})),r["iphone-link"]?t.find(".iphone-link").removeClass("d-none").attr("href",r["iphone-link"]).attr("aria-label","Buy "+n+" now"):t.find(".iphone-link").addClass("d-none").attr("href","#"),r["iphone-zoom"]?(t.find(".iphone-zoom-container").addClass("d-block").removeClass("d-none"),t.find(".iphone-zoom-none").addClass("d-none").removeClass("d-block"),t.find(".iphone-zoom").html(r["iphone-zoom"])):(t.find(".iphone-zoom-container").addClass("d-none").removeClass("d-block"),t.find(".iphone-zoom-none").addClass("d-block").removeClass("d-none")),r["iphone-lidar"]?(t.find(".iphone-lidar-container").addClass("d-block").removeClass("d-none"),t.find(".iphone-lidar-none").addClass("d-none").removeClass("d-block")):(t.find(".iphone-lidar-container").addClass("d-none").removeClass("d-block"),t.find(".iphone-lidar-none").addClass("d-block").removeClass("d-none")))})}var n;$(".iphone-selector").on("focus",function(){n=$(this).val()});$(".iphone-selector").on("change",function(){var i=$(this).val(),r;t($(this));r=$(".iphone-selector").not($(this));r.each(function(){$(this).val()==i&&($(this).val(n),t($(this)),n=i)})})});ignoreList=["#additional-details-body","#div-1-accessible","#div-2-accessible","#div-3-accessible","#div-4-accessible","#div-5-accessible","#div-6-accessible","#div-7-accessible","#div-8-accessible","#div-9-accessible","#div-10-accessible"];$(document).ready(function(){$("#Accordion_AboutSection-body").find(".collapse-trigger").not(".accss-custom-accordion").on("click",function(){var n=$(this).attr("data-target");if(!ignoreList.includes(n))$(n).on("shown.bs.collapse",function(){var r=$(n),t,i=$(r).find('a[href], button, input, textarea, select, details, *[tabindex], *[data-dismiss="modal"]').not("[tabindex=-1], :hidden");i.length>0&&(t=i[0],$(t).focus())})})});$(function(){$(".js-tooltip-iframe").focus(function(){$(this).tooltip("show")});$(".js-tooltip-iframe").mouseenter(function(){let n=$(this).find(".tooltip");n.hasClass("show")||$(this).tooltip("show")});$(".js-tooltip-iframe").mouseleave(function(){$(this).tooltip("hide")});$(document).focusin(function(){$(".tooltip").is(":focus")||$(".js-tooltip-iframe").tooltip("hide")});$(window).click(function(){$(".js-tooltip-iframe").tooltip("hide")});$(".js-tooltip-iframe").click(function(n){n.stopPropagation()})}),function(){tooltipKeypress();deviceMemoryKeypress()}(jQuery);$(document).ready(function(){$(".sum-tooltip").on("shown.bs.tooltip",function(){$(this).find(".tooltip").attr("tabindex",-1)});window.matchMedia("(max-width: 767px)").matches&&$(".tooltip-input").tooltip("disable");$(window).on("resize",function(){window.matchMedia("(min-width: 768px)").matches?$(".tooltip-input").tooltip("enable"):$(".tooltip-input").tooltip("disable")});$("body").on("DOMNodeInserted",".tooltip-interactive",function(){$(this).tooltip({container:$(this)})})});$(".tooltip-dynamic").on("show.bs.tooltip",function(){$(".tooltip-dynamic").not(this).tooltip("hide")});let members=0;resizeTimeoutFn=0;$(window).on("resize",function(){clearTimeout(resizeTimeoutFn);resizeTimeoutFn=setTimeout(function(){loadOpacityDots();$(window).width()<768&&$(".transform-slick-slide-js").length>0&&($(".transform-slick-slide-js").not(".slick-initialized").slick(),$(".transform-slick-slide-js:not(.full-width-slide)").find(".slick-track").addClass("margin-n30-left"));$(".focusableElementUnslick-js:not(slick-initialized)").find('[tabindex="-1"]').removeAttr("tabindex");forceSkipSameHeightMobile();mobileUnslickCountOne.reSize();mobileUnslickCountCustom.reSize();setTimeout(function(){$(".responsive-slick-slider.slick-initialized").not(".opacityDots").slick("setPosition");initProductThumbnailModalSlick()},300);setTimeout(function(){$(".slider-remove-prev").find(".slick-arrow.slick-disabled").removeAttr("style")},300);setTimeout(function(){thumbHeightResize()},330);reSizePlanRate();processModalSameHeight();bottomSticky()},200)});let offsetSlickTrack={initialize:function(n){let t=this;n.on("init",function(n,i){const r=$(this);if(i.slideCount!=i.options.slidesToShow){let n=JSON.parse(r.attr("data-slick-track-offset"));n.xs&&window.matchMedia("(max-width: 767.98px)").matches?t.processOffset(r,n.xs):n.sm&&window.matchMedia("(max-width: 991.98px)").matches&&window.matchMedia("(min-width: 768px)").matches&&t.processOffset(r,n.sm)}else window.matchMedia("(min-width: 992px)").matches&&i.$list.css("padding","0 0")});n.on("breakpoint",function(n,i){const r=$(this);if(i.slideCount!=i.options.slidesToShow){let n=JSON.parse(r.attr("data-slick-track-offset"));n.xs&&window.matchMedia("(max-width: 767.98px)").matches?(t.processOffset(r,n.xs,i),t.reInitialize(r,n.xs,i)):n.sm&&window.matchMedia("(max-width: 991.98px)").matches&&window.matchMedia("(min-width: 768px)").matches&&(t.processOffset(r,n.sm,i),t.reInitialize(r,n.sm,i))}else window.matchMedia("(min-width: 992px)").matches&&i.$list.css("padding","0 0"),setTimeout(function(){r.slick("setPosition")},200)});n.on("setPosition",function(){const n=$(this).find(".same-height");n.each(function(){resetSameHeightElements($(this))});processSameHeightElements($(this))})},processOffset:function(n,t){let i=n.find(".slick-track");i.css("margin-left","-"+t);n.on("beforeChange",function(n,r,u,f){f>0&&f<r.slideCount-r.options.slidesToShow?i.css("margin-left","0"):f>=r.slideCount-r.options.slidesToShow?i.css("margin-left",t):f==0&&i.css("margin-left","-"+t)})},reInitialize:function(n,t,i){let r=n.find(".slick-track");const u=i.currentSlide;r.css("margin-left","-"+t);u>0&&u<i.slideCount-i.options.slidesToShow?r.css("margin-left","0"):u>=i.slideCount-i.options.slidesToShow?r.css("margin-left",t):u==0&&r.css("margin-left","-"+t)}};offsetSlickTrack.initialize($("[data-slick-track-offset]"));$(window).on("unload",function(){$(window).scrollTop(0)});$(window).on("load",function(){$("br").attr("aria-hidden","true");processSameHeightElements();accordionTab();reSizePlanRate()});$(".transform-slick-slide-js").on("beforeChange",function(n,t,i,r){var f=$(this).find(".slick-slide").length,u=$(this);u.find(".slick-track").removeClass("margin-n30-left").removeClass("margin-n15-left");u.hasClass("full-width-slide")||(r==0?u.find(".slick-track").addClass("margin-n30-left"):r==f-1&&u.find(".slick-track").addClass("margin-n15-left"))});$(".infoblock-slider").on("beforeChange",function(n,t,i,r){if(window.matchMedia("(max-width: 767px)").matches){var u=$(this),f=u.find(".slick-slide").length;r>0&&r<f-1?u.find(".slick-track").css("margin-left","0"):r==f-1?u.find(".slick-track").css("margin-left","15px"):u.find(".slick-track").css("margin-left","")}});$(".related-accessories-js").on("init",function(){$(this).find("img.lazy").on("load",function(){processSameHeightElements()});lazyLoad($(this).find(".slick-slide:nth-child(2)"))});$(".infoblock-slider, .responsive-slick-slider").on("lazyLoaded",function(){processSameHeightElements()});$(".hiddenInactive").on("init",function(){$(this).find('.slick-slide[aria-hidden="true"]').addClass("offscreen")});$(".link-slide").on("click",'span[role="button"]',function(){});$(".link-slide").on("mouseenter mouseleave",".tooltip-interactive, .tooltip-static",function(){$(this).tooltip("show")});$(".link-slide").on("focus",".tooltip-interactive, .tooltip-static",function(){$(this).tooltip("show");setTimeout(function(){$(this).find(".tooltip").attr("tabindex",0)},100)});$(".mobility-circle-icon.mobility-circle-icon").on("shown.bs.tooltip",function(){$(".mobility-circle-icon.mobility-circle-icon").removeClass("active");$(this).addClass("active")});$(".mobility-circle-icon.mobility-circle-icon").on("hidden.bs.tooltip",function(){$(".mobility-circle-icon.mobility-circle-icon").removeClass("active")});$("document").ready(function(){if($("#custom-tab-control-1").length>0){let n=$("h1.title").text()+" Devices";$("#custom-tab-control-1").attr("aria-label",n)}$(window).width()<768&&(resizeTimeoutFn=setTimeout(function(){$(".transform-slick-slide-js.slick-initialized:not(.full-width-slide)").find(".slick-track").addClass("margin-n30-left")},200));forceSkipSameHeightMobile();$(".carousel-navigator-centered").each(function(){var n=$(this);n.children().length>1&&(n.children().length<3&&n.addClass("two-slides"),n.slick())});var n=$(location).attr("href");n=checkUrlForXSS(n);n.indexOf("#clone")>-1&&$("html, body").animate({scrollTop:$(document).scrollTop()-50},200);$('[class*="tooltip-"]').tooltip()});window.addEventListener("load",function(){function n(){var n=window.location.search,u,i;n=sanitizeHTML(n);const r="More";if(n!==""&&n.indexOf("?filter=")>-1&&n.toLowerCase().indexOf("_brand")>-1){var f=n.indexOf("?filter=")+8,e=n.toLowerCase().indexOf("_brand"),t=n.substring(f,e).toLowerCase();return t="#"+t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),u=t.toLocaleLowerCase().includes("all"),i=t.toLocaleLowerCase().includes("other"),i&&(t=`#${r}`),u?$("#filter-controls"):$(`[data-category=${i?r:t.replace("#","")}]`)}return""}var t=window.location.search;t.indexOf("filter")>0&&(console.log(n()),$("html, body").animate({scrollTop:n().offset().top-80},500))});let ele=document.querySelectorAll(".slider-rotating-carousel-component");if(ele.length!=0){(function(n,t){try{t.widget("rsx.BannerSliderCarousel",{version:"0.5",widgetEventPrefix:"BannerSliderCarousel",links:[],options:{slidesContainer:"",pauseOnFocus:!0,pauseOnHover:!0,infinite:!0,autoplay:!0,autoplaySpeedMobile:1e4,autoplaySpeed:6e3,dots:!0,arrows:!1,customPaging:function(n,t){return'<button class="slider-rotating-carousel-button" type="button">'+(t+1)+"<\/button>"},dotsClass:"slider-rotating-carousel-buttons",initialSlide:0,omnitureShow_s_oAPT:"347-0-0",omnitureClick_s_oAPT:"348-0-0",track_omniture:!1,adobeTargetCssClass:"at-element-marker"},_create:function(){function f(){n.rotate&&(Math.abs(s)<1&&n.$progressIndicator.addClass("slider-rotating-carousel-progress_initial"),n.$pauseButton.attr("aria-label",a),n.$pauseButton.attr("data-pressed",!0),n.rotate=!1)}function e(){n.rotate||(n.pausedThroughButton||(n.$progressIndicator.removeClass("slider-rotating-carousel-progress_initial"),n.$pauseButton.attr("aria-label",v),n.rotate=!0),n.$pauseButton.attr("data-pressed",!1))}var n,r,w,o,h,c,b,l,s,u,a,v,nt;n=r=this;var y=t("link[rel='canonical']").attr("href").split("/").pop(),tt=t("link[rel='alternate']").attr("href").split("/").pop(),p=["/","/Accueil","/Mobility","/Mobilite","/Mobility/","/Mobilite/"];for(i=0;i<p.length;i++)if(window.location.pathname===p[i]){n.options.track_omniture=!0;break}h=50;u=!1;this.autoplaySpeed=r.options.autoplaySpeed;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(this.autoplaySpeed=r.options.autoplaySpeedMobile);a="Pause rotation of banners";v="Resume rotation of banners";tt||y||(y="Accueil");this.$window=t(window);this.$slidesContainer=this.element.find(n.options.slidesContainer);this.$slides=this.$slidesContainer.children();this.$pauseButton=this.element.find(".slider-rotating-carousel-pause");a=this.$pauseButton.data("play-label");v=this.$pauseButton.data("pause-label");this.$progressIndicator=this.$pauseButton.find(".slider-rotating-carousel-progress > circle");c=typeof SVGElement.prototype.getTotalLength!="undefined"?Math.round(this.$progressIndicator.get(0).getTotalLength()):125;b=c/100;this.$progressIndicator.css({"stroke-dasharray":c});this.pausedThroughButton=!1;this.rotate=!1;this.hasFocus=!1;this.hasHover=!1;e();this.$pauseButton.on("click tap",function(){var t=n.$pauseButton.attr("data-pressed")==="true";typeof s_oTrackPage=="function"&&s_oTrackPage({s_oAPT:"647-0-0",s_oBTN:n.$pauseButton.attr("aria-label")});t?(n.pausedThroughButton=!1,e(),n.$pauseButton.attr("data-pressed",!1)):(n.pausedThroughButton=!0,f(),n.$pauseButton.attr("data-pressed",!0))});this.$slidesContainer.on("mouseenter",function(){!!("ontouchstart"in window)==!1&&(u||(n.hasHover=!0,f()))}).on("mouseleave",function(){u||(n.hasHover=!1,e())});t(document).on("visibilitychange",function(){document.visibilityState==="hidden"?f():e()});var k=function(){o=0;l=0;d();w=setInterval(it,h)},d=function(){o+=h/r.autoplaySpeed*100;l=o*b*-1+1;s=Math.round(l*10)/10;n.$progressIndicator.css({"stroke-dashoffset":s})},it=function(){n.rotate&&!n.pausedThroughButton&&n.$pauseButton.attr("data-pressed")==="false"&&(d(),o>=100&&(n.$slidesContainer.slick("slickNext"),g()))},g=function(){clearInterval(w);k()};this.$slidesContainer.focusin(function(){!!("ontouchstart"in window)==!1&&(u||(r.hasFocus=!0,f()))}).focusout(function(){u||(r.hasFocus=!1,e())});this.$slider=this.$slidesContainer.on("init",function(n,i){i.$slider.removeClass("slider-rotating-carousel-height");i.options.initialSlide=i.currentSlide;r.options.autoplay&&k();t(this).find(".slider-rotating-carousel-button").focusin(function(){u||f()}).focusout(function(){u||e()}).on("keyup",function(n){n.type==="keyup"&&(n.which===37||n.which===39||n.key==="Tab"||n.keyCode===9)&&(u=!0,t(this).closest(".slider-rotating-carousel-buttons").find(".slick-active .slider-rotating-carousel-button").focus(),s=0,f())});t("#slider-rotating-carousel-component .slider-rotating-carousel-button").on("click tap",function(){typeof s_oTrackPage=="function"&&s_oTrackPage({s_oAPT:"647-0-0",s_oBTN:t(this).attr("aria-label")})});r._syncAdobeTarget(i);t(this).find(".slick-slide.slick-cloned").removeAttr("id");r._setAccessibleDotsLabel(r.$slidesContainer)}).slick({pauseOnFocus:n.options.pauseOnFocus,pauseOnHover:n.options.pauseOnHover,slidesToShow:1,slidesToScroll:1,infinite:n.options.infinite,adaptiveHeight:n.options.adaptiveHeight,arrows:!1,useTransform:!1,autoplay:!1,waitForAnimate:!1,dots:n.options.dots,customPaging:n.options.customPaging,dotsClass:n.options.dotsClass}).on("afterChange",function(n,t,i){r._resetCTARedirectOnTestEnvironment();r._track(i);t.$slider.find(".slick-slide.slick-cloned").removeAttr("id");r._setAccessibleDotsLabel(r.$slidesContainer)}).on("beforeChange",function(){r._resetCTARedirectOnTestEnvironment();g()});r._syncAdobeTarget(n);nt=setInterval(function(){(typeof s_oTrackPage=="function"||typeof s_track=="function")&&(r._track(n.options.initialSlide),clearInterval(nt))},100)},_trackOmniture:function(n,t){typeof s_oTrackPage=="function"?s_oTrackPage({s_oAPT:n,s_oBID:t}):typeof s_track=="function"&&s_track({s_oAPT:n,s_oBID:t})},_track:function(n){if(this.options.track_omniture&&this.links[n]===undefined){var i=t(this.$slides[n]).find(".js-omni-banner"),r=t(i).data("omni-s_obid");this._trackOmniture(this.options.omnitureShow_s_oAPT,r);this.links[n]=!0}},_syncAdobeTarget:function(n){if(this.options.infinite){let u=n.$slider.find(".slick-slide.slick-cloned").first(),f=n.$slider.find(".slick-slide.slick-cloned").last(),e=n.$slider.find(".slick-slide");var i,r="";t.each(e,function(){t(this).data("slickIndex")===u.data("slickIndex")+1&&(i=t(this));t(this).data("slickIndex")===f.data("slickIndex")-1&&(r=t(this))});r&&r.find("div").hasClass(this.options.adobeTargetCssClass)&&u.html(r.html());i&&i.find("div").hasClass(this.options.adobeTargetCssClass)&&f.html(i.html());u&&u.find("div").hasClass(this.options.adobeTargetCssClass)&&r.html(u.html());f&&f.find("div").hasClass(this.options.adobeTargetCssClass)&&i.html(f.html())}},_resetCTARedirectOnTestEnvironment:function(){let n=function(){let n=window.location.hostname;return n.indexOf("www.bell.ca")>-1?!0:!1};n()||t("div[id*='carousel-banner-id-']").each(function(){t(this).find(".js-omni-button").click(function(){let n=t(this).attr("href");window.location.href=n})})},_setAccessibleDotsLabel:function(n){setTimeout(function(){let i=n.find(".slider-rotating-carousel-button");i.each(function(){let n=t(this),r=n.attr("aria-label"),i=t("#"+n.attr("aria-controls")).find("h2").text().trim();i&&n.attr("aria-label",r+" property page "+i)})})}})}catch(r){console.log(r)}})({},jQuery);$(".slider-rotating-carousel-component").each(function(){const n=$(this),t=n.find(".slider-rotating-carousel"),i=t.children();i.length===1?(n.find(".slider-rotating-carousel-pause").hide(),t.css({opacity:"1",visibility:"visible","max-height":"initial","text-align":"center",overflow:"hidden"})):n.BannerSliderCarousel({slidesContainer:".slider-rotating-carousel","autoplay-speed":"6000","autoplay-speed-mobile":"6000","class":"init"})});$(".slider-rotating-carousel-component").on("beforeChange",function(n,t,i,r){const u=$(this).find(".slick-slide")[r+1],f=u.querySelector("div").clientHeight;$(this).find(".slick-list").css("height",f)})}$(".slider-rotating-carousel-component").each(function(){let n=$(this).find(".slick-slide.slick-cloned").find("[id]");$.each(n,function(n,t){let i=$(t).attr("id");$(t).attr("id",i+"-clone")})});$(".slider-rotating-carousel").each(function(){$(this).find('.slick-slide[role="tabpanel"]').each(function(n){$(this).attr("aria-labelledby","slick-slide-control0"+n)})});$(".same-height-modal-js").on("shown.bs.modal",function(){$(this).find(".same-height").each(function(){processSameHeightElements($(this))})});$(".graphical_ctrl input").change(function(){var n=$(this);n.attr("type")=="radio"&&(n.parent().closest("[aria-labelledby]").find(".radio-container").removeClass("checked-border"),n.prop("checked")&&n.closest(".radio-container").addClass("checked-border"))});$(".graphical_ctrl input").focus(function(){$(this).closest(".radio-container").addClass("focused-element")});$(".graphical_ctrl input").blur(function(){$(this).closest(".radio-container").removeClass("focused-element")});$(".radio-container").click(function(){var n=$(this);n.find(".graphical_ctrl input").prop("checked",!0);n.find(".graphical_ctrl input").trigger("change");n.find(".graphical_ctrl input").focus()});$(".same-height-tab-js").on("click",function(){$(".same-height-tabpanel-js").find(".same-height").each(function(){processSameHeightElements($(this))})});$(document).on("keydown",".uNGBb-dialog-view--content",function(n){var t=$(this).find("button:not([disabled])"),i=t[0],r=t[t.length-1],u=n.key==="Tab"||n.keyCode===9;u&&(n.shiftKey?document.activeElement===i&&(r.focus(),n.preventDefault()):document.activeElement===r&&(i.focus(),n.preventDefault()))});$(document).ready(function(){var i,n;$(window).on("load",function(){processSameHeightElements();setTimeout(function(){var n=$(".koremLegend h3");n.replaceWith('<h2 class="txtSize24 margin-b-20">'+n.text()+"<\/h2>")},0)});if(handleTooltipEscape(),i=setInterval(()=>{if($("#selectDestination").length>0){clearInterval(i);$("#selectDestination").on("change",function(){setTimeout(function(){var n=$("#koremRoamingPayPerUseTable table").detach();$("#koremRoamingPayPerUseTable .scrollableContainer-js").prepend(n);$('a[data-target="#korem-partner-network-table"]').on("click keydown",function(n){if(n.key==="Enter"||n.key===" "||n.type==="click")if($(this).hasClass("collapsed")){$("#korem-partner-network-table").addClass("show");var t=$("#korem-partner-network-table table").detach();$("#korem-partner-network-table .scrollableContainer-js").prepend(t)}else $("#korem-partner-network-table").removeClass("show")});$(".page-code_prsshpwls-coverage-travel .collapse-trigger.accordion-content, .page-code_prsshpwls-coverage-travel .accordion-heading a").on("click keydown",function(n){(n.key==="Enter"||n.key===" "||n.type==="click")&&($(this).hasClass("collapsed")?$(this).parent().siblings(".collapse-accordion-accessible-toggle").addClass("show"):$(this).parent().siblings(".collapse-accordion-accessible-toggle").removeClass("show"))})},1e3)})}},150),$("body").hasClass("page-code_prsshpwls-roam-better"))$("#roam-faq-accordion-button-11").on("click keydown",function(n){if(n.key==="Enter"||n.key===" "||n.type==="click"){var t=$("#roam-faq-accordion-body-11 table").detach();$("#roam-faq-accordion-body-11 .scrollableContainer-js").prepend(t)}});if($('input[type="radio"][name="radioDevices"]:checked').length>0){let n=$('input[type="radio"][name="radioDevices"]:checked').attr("aria-controls");$("section").find("#"+n).addClass("block");$('.radio-container input[type="radio"][name="radioDevices"]:checked').closest(".radio-container").addClass("checked-border")}$('.radio-container input[type="radio"][name="radioDevices"]').change(function(){inputValue=$(this).attr("aria-controls");$(this).prop("checked",!0);let n=$('div[id="'+inputValue+'"]');$(".display-radio-container").not(n).removeClass("block");$(n).addClass("block");processSameHeightElements()});setTimeout(function(){$("#koremRoamingTravelDestination label").attr("for","selectDestination")},1500);$("body.page-code_prsshpwls-belltradeinprogram").prepend('<div class="sr-only"><span id="live-suggestions" aria-live="polite"><\/span><span id="highlighted-suggestion" aria-live="polite"><\/span><\/div>');const t=$("#quick-search-input");t.attr({role:"combobox","aria-expanded":"false"});n=!1;$("html").attr("lang")!==undefined&&(n=$("html").attr("lang").substring(0,2).toLowerCase()==="fr");$(".video-banner-pause-btn").each(function(){const t=$(this),r=t.find(".video-btn-progress").get(0),i=t.parent().find("video").get(0),u=Math.round(r.getTotalLength());r.style.setProperty("stroke-dasharray",u);r.style.setProperty("stroke-dashoffset",u);i.addEventListener("timeupdate",()=>{const n=i.currentTime,t=i.duration,f=u-n/t*u;r.style.setProperty("stroke-dashoffset",Math.round(f))});t.on("click keydown",function(r){if(r.key==="Enter"||r.key===" "||r.type==="click"){console.log("clicked");var u;r.preventDefault();t.hasClass("video-paused")?(i.play(),t.removeClass("video-paused"),u=n?"Pause Vidéo":"Pause Video",t.attr("aria-label",u),t.attr("data-pressed","true")):(i.pause(),t.addClass("video-paused"),u=n?"Jouer la Vidéo":"Play Video",t.attr("aria-label",u),t.attr("data-pressed","false"))}})});$('span[data-toggle="popover"]').on("keydown",function(n){let t=$(this);n.key=="Tab"&&(n.shiftKey||n.currentTarget!=n.target||setTimeout(function(){let n=t.find('button, a, input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])');n.length>0&&n.first().focus()},150))});$("#quick-search-input").on("keydown",function(n){setTimeout(function(){var i,r,u,f;$(".tt-dropdown-menu").is(":visible")?(i=$(".tt-suggestion"),n.key==="ArrowDown"||n.key==="ArrowUp"||n.key==="PageDown"||n.key==="PageUp"?($(".tt-suggestion").each(function(n){$(this).hasClass("tt-cursor")&&(r=n,u=`option ${r+1} of ${i.length} is highlighted`)}),$("#highlighted-suggestion").text(u),$("#live-suggestions").text("")):(f=i.length>1?`${i.length} results are available`:`1 result is available`,t.attr("aria-expanded",!0),$("#live-suggestions").text(f))):($("#highlighted-suggestion").text(""),$("#live-suggestions").text(""),t.attr("aria-expanded",!1))},200)});$(document).click(function(){$(".tt-dropdown-menu").is(":visible")||$("#quick-search-input").attr("aria-expanded",!1)})});const slickVideoContainers=document.querySelectorAll('[data-slick-video="main-container"]'),videoModal=document.querySelector("#video-modal");window.videoPlayers=[];window.initializeVideoPlayers=function(){for(var n=0;n<slickVideoContainers.length;n++)slickVideo(slickVideoContainers[n],n)};(slickVideoContainers.length>0||videoModal)&&youTubeIframeApi();const modalVideoPlayer={initialize:function(){const t=$("#video-modal"),n=document.querySelector("#video-modal iframe"),u=new YT.Player(n),i="https://www.youtube.com/embed/";t.find('[data-dismiss="modal"]').attr("role","button").addClass("close");t.attr("aria-label","Video Player");t.find(".bce-modal-header").prepend('<h2 class="sr-only">Video Player<\/h2>');n.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture");n.setAttribute("src",i);$(document).on("click",'[data-toggle="video-modal"]',function(t){t.preventDefault();$("#video-modal").modal("show");const u=$(this),f=u.data("video-id"),e=u.data("video-settings");n.setAttribute("src",i+f+e);n.addEventListener("load",r)});$(document).on("hidden.bs.modal","#video-modal",function(){n.removeEventListener("load",r);n.setAttribute("src",i)});const r=function(){try{u.playVideo()}catch(n){}};t.find(".modal-body").append('<span tabindex="0" class="video-modal-focus-trapper"><\/span>');this.setTabbing()},setTabbing:function(){const n=$("#video-modal");n.on("keydown",function(n){const t=n.key==="Tab"||n.keyCode===9;t&&n.shiftKey&&$(this).find("iframe").focus()});n.on("focus",".video-modal-focus-trapper",function(){n.find("a.close").focus()})}};window.slickVideo=function(n,t){var i=n.querySelector(".default-video").dataset.videoId,r=n.querySelector('[data-slick-video="video-player-container"]');createVideoPlayer(i,t,r);$(n).on("click",".play-btn-container",function(){$(this).closest(".video-switch").trigger("click")});$(n).on("focus",".play-btn-container",function(){window.videoPlayers[t].pauseVideo()});$(n).on("keypress",".play-btn-container",function(n){n.preventDefault();let t=n.keyCode;(t==32||t==13)&&$(this).closest(".video-switch").trigger("click")});$(n).on("click",".video-switch",function(){let u=$(this).data("video-id"),i=n.querySelector('[data-slick-video="video-player-container"]'),r=$(this).find("img");r.hasClass("playing")?(window.videoPlayers[t].pauseVideo(),r.removeClass("playing")):(i.src="https://www.youtube.com/embed/"+u+"?rel=0&modestbranding=1&showinfo=0&enablejsapi=1",i.addEventListener("load",function(){window.videoPlayers[t].playVideo()}),$(".car-video-slider img").removeClass("active playing"),$(this).find("img").addClass("active playing"),$(".video-title").removeClass("surtitle-black"),$(this).find(".video-title").addClass("surtitle-black"))})};destinationAddOnTabsEventListener();initializeScrollableTable();displayAccordionMoreAndLess={init:function(){var n=this;n.addEventListener();n.addAriaHidden();n.onMobileResize()},addEventListener:function(){$(".expander-description-control").on("click",function(n){var t=$(this);t.attr("aria-expanded")=="false"?(t.prev().css("max-height","10000px").attr("aria-hidden","false"),t.attr("aria-expanded","true")):(t.prev().removeAttr("style").attr("aria-hidden","true"),t.attr("aria-expanded","false"));n.stopImmediatePropagation()})},onMobileResize:function(){var n=this;$(window).resize(function(){n.addAriaHidden()})},addAriaHidden:function(){window.matchMedia("(max-width: 767px)").matches?$(".expander-description[aria-hidden]").length<=0&&$(".expander-description").attr("aria-hidden","true"):$(".expander-description").removeAttr("style").removeAttr("aria-hidden")}};$(".expander-description-control").length>0&&displayAccordionMoreAndLess.init();$(function(){let n=function(n,t){let i=!1;return t.every(function(t){return t.breakpoint==n&&t.settings=="unslick"?(i=!0,!1):!0}),i};$(window).resize(function(){let i=$(".responsive-slick-slider").not(".slick-initialized"),t=$(window).width()-1;i.each(function(){let i=$(this),r=$(this).data("slick").responsive;t>=991&&(n(991,r)||i.slick());t>=767&&t<991&&(n(767,r)||i.slick());t>=300&&t<767&&(n(300,r)||i.slick())})})});$(function(){$(document).on("hide.bs.collapse",".single-expand",function(){$(this).closest(".accordion-wrap").find(".icon").removeClass("icon-small_icon_collapse").addClass("icon-small_icon_expand")});$(document).on("hide.bs.collapse",'[data-expand-type="single"]',function(){let i=$(this).closest(".accordion-wrap").find(".collapse-trigger").data("icon-expand"),r=$(this).closest(".accordion-wrap").find(".collapse-trigger").data("icon-collapse");$(this).closest(".accordion-wrap").find('.icon:not([data-icon="xs"])').first().removeClass(r).addClass(i);let n=$(this).closest(".accordion-wrap").find(".collapse-trigger").data("icon-expand-xs"),t=$(this).closest(".accordion-wrap").find(".collapse-trigger").data("icon-collapse-xs");n&&t&&$(this).closest(".accordion-wrap").find('[data-icon="xs"]').addClass(n).removeClass(t)});let n=$(window).width();$(window).resize(function(){n=$(window).width()});$(".collapse-trigger").on("click",function(){if(n<760){let n=$(this),t=$(this).data("icon-expand-xs"),i=$(this).data("icon-collapse-xs");t&&i&&(n.attr("aria-expanded")!=="true"?n.closest(".accordion-wrap").find('.icon[data-icon="xs"]').addClass(i).removeClass(t):n.closest(".accordion-wrap").find('.icon[data-icon="xs"]').removeClass(i).addClass(t))}});$(".js-toggle-accordion").on("click",function(){$(this).attr("aria-expanded")==="true"?($(this).attr("aria-expanded",!1),$("#trade-in-accordion-body-2").addClass("collapse")):($(this).attr("aria-expanded",!0),$("#trade-in-accordion-body-2").removeClass("collapse"))})});$(document).on("show.bs.collapse",".collapse-accordion-accessible-toggle",function(){$(this).find(".responsive-slick-slider.slick-initialized").slick("refresh")});$(document).on("show.bs.collapse hide.bs.collapse",'[data-title-type="dynamic"]',function(n){var t=$(this).closest(".accordion-wrap").find(".accordion-title"),i=t.closest(".toggle-title-color"),r=t.data("expand-title"),u=t.data("collapse-title");n.type==="hide"?(t.html(r),i.length&&(t.toggleClass("txtWhite"),i.toggleClass("margin-neg-t-50 margin-neg-55-t-xs"))):n.type==="show"&&(t.html(u),i.length&&(t.toggleClass("txtWhite"),i.toggleClass("margin-neg-t-50 margin-neg-55-t-xs")))});$(".clickable-card").on("click",'[data-toggle="modal"]',function(n){n.preventDefault()});$(".clickable-card").on("click",".tooltip-interactive",function(n){n.preventDefault()});$(".clickable-card").on("click",".tooltip-static",function(n){n.preventDefault()});$(function(){var n=$('.tooltip-interactive[data-toggle="tooltip"]').siblings($('[data-toggle="modal"]')),t=$('.tooltip-static[data-toggle="tooltip"]').siblings($('[data-toggle="modal"]'));n.on("keypress",function(n){n.keyCode==13&&$(this).trigger("click")});t.on("keypress",function(n){n.keyCode==13&&$(this).trigger("click")})});$(document).on("keydown",'.tooltip-static[data-toggle="tooltip"], .tooltip-interactive[data-toggle="tooltip"]',function(n){n.keyCode===27&&$(".tooltip").removeClass("show")}).on("keyup","#rateplanListNew .slick-dots li button",function(n){(n.keyCode===37||n.keyCode===39)&&($(".slick-dots .slick-active button").attr("tabindex",0),$(".slick-dots .slick-active button").focus())});$(document).on("keypress",".card-container .tooltip-interactive",function(n){(n.keyCode===32||n.keyCode===13)&&$(this).click()});FloatingSubNav={isMobile:!1,activeSubNavIndex:1,magicLine:"#magic-line",init:function(n){this.addMagicLine(".subnavgroup");FloatingSubNav.checkIfNotMobile()===!1?(FloatingSubNav.checkScrollPos(n),$(".subnav-scroll").removeClass("d-none"),FloatingSubNav.checkScrollableActiveSection(n)):($(".subnav-scroll").removeClass("d-none"),FloatingSubNav.positionToRelative(".subnav-scroll"));FloatingSubNav.bindEvents()},bindEvents:function(){var n=this;$(".subnavgroup li a").on("click",function(){var t="#"+$(this).parent().attr("data-section");typeof scrollOmnitureBegin=="function"&&scrollOmnitureBegin();n.animateToSection(t)})},addMagicLine:function(n){$(n).append("<li class='listStyleNone' id='magic-line'><\/li>")},checkScrollPos:function(n){n+=200;var i=135,r=".scrollable-area",t=".subnav-scroll",u=this.getScrollableAreaTopValue(r,i);n>=u&&n-200<this.getScrollableAreaEndValue(t,r,i)?this.positionToFix(t,i,$(".subnav-scroll").width()):n>=this.getScrollableAreaEndValue(t,r,i)?this.positionToAbsolute(t):this.positionToRelative(t)},checkScrollableActiveSection:function(n){var f=this,i=".scrollable-contents",u=$(i).find("> div").length,r=1,t;if(n=Math.ceil(n)+100,$(window).scrollTop()+$(window).height()===$(document).height())r=u;else for(t=1;t<u+1;t++)if(t===1){if(n<FloatingSubNav.getSectionTopValue(i,1)){r=1;break}}else if(n>=FloatingSubNav.getSectionTopValue(i,t-1)&&n<FloatingSubNav.getSectionTopValue(i,t)){r=t;break}else if(n>=FloatingSubNav.getSectionTopValue(i,u)){r=u;break}this.activeSubNavIndex=r;this.checkActiveSubNav(this.activeSubNavIndex,".subnav-scroll")},getSectionTopValue:function(n,t){var r=$(n),i;if(r.length>0)return i=r.find("#scrollable-content-"+t),Math.floor(i.offset().top+i.height())},checkActiveSubNav:function(n,t){$(t).find(".subnavgroup li").removeClass("subnav_active");$(t).find(".subnavgroup li:nth-child("+n+")").addClass("subnav_active");typeof scrollOmniture=="function"&&scrollOmniture($(t).find(".subnavgroup li:nth-child("+n+")"),n);this.animateMagicLine(n,t)},animateMagicLine:function(n,t){var r=this;if($(t).length>0)var i=$(t).find(".subnavgroup li:nth-child("+n+") a"),u=i.position().top,f=i.parent().height();$(r.magicLine).stop().animate({top:u,height:f})},animateToSection:function(n){var t=$(n).offset().top;$("html, body").animate({scrollTop:t-100},500,"linear",this.animateCallback)},animateCallback:function(){typeof scrollOmnitureEnd=="function"&&scrollOmnitureEnd()},checkIfNotMobile:function(){var n=$(window).outerWidth();return isMobile=n>767?!1:!0},getScrollableAreaTopValue:function(n,t){if($(n).length>0)return $(n).position().top+t},getScrollableAreaEndValue:function(n,t,i){var r=$(t);return r.outerHeight()+r.position().top-($(n).innerHeight()+i)},positionToFix:function(n,t,i){$(n).css({position:"fixed",top:t,bottom:"auto","max-width":i+"px"})},positionToRelative:function(n){$(n).css({position:"relative",top:"auto",bottom:"auto","max-width":""})},positionToAbsolute:function(n){$(n).css({position:"absolute",top:"auto",bottom:0})}};$(window).on("scroll",function(){checkScrollLocation()}).on("resize",function(){var n=$(".subnav-scroll");checkScrollLocation();n.width(n.parent().width())});$(function(){var n=document.documentElement.scrollTop;$(".scrollable-area").length>0&&FloatingSubNav.init(n);$("#show-loader-contained-mask").click(function(){showLoaderWithMask("#brf-loader-contained-mask")});clickDragScroll_table();loadOpacityDots();checkboxFilter();radioFilter.initialize();mobileUnslickCountOne.initialize(5);mobileUnslickCountCustom.initialize(7);viewBrandItems();setBrand();hideInactiveSlides();starRating();initProductThumbnailModalSlick();switchDeviceColor();verticalNav();setProvinceLabel();modalTriggerReturnFocus();memberCountPicker();bottomSticky()});let radioFilter={initialize:function(){let n=this;$(".radio-slick").each(function(){let n=$(this).clone();$(this).siblings(".slick-clone").html(n.html());processSameHeightElements();$(".slick-clone").hide();$(".slick-clone .card-container").addClass(["col-md-4","col-sm-6","col-xs-12","margin-b-30","pad-h-15","pad-h-xs-0"]);$(".slick-clone").find(".view-all-js").hide()});$("input#All-brands").prop("checked",!0);$(".slick-clone .tooltip-static").tooltip();this.modifyID();$("input.radio-filter").on("change",function(){tilesViewBrandItems();var t=$(this);t.is(":checked")&&($("label[for!="+t.prop("id")+"]").removeClass("checked"),$("label[for="+t.prop("id")+"]").addClass("checked"));$(".card-filter .card-section-js").hide();$("#bottom-banner-smartphones").hide();t.attr("data-filters")=="all-items"?(n.allBrands($("#"+t.attr("data-filters"))),$(".view-all-wrapper").show(),$("#bottom-banner-smartphones").show()):($(".view-all-wrapper").hide(),$("#"+t.attr("data-filters")).show(),n.filter($("#"+t.attr("data-filters"))),lazyLoad($("#"+t.attr("data-filters"))));mobileUnslickCountOne.reSize();mobileUnslickCountCustom.reSize();let i=$("#filter-controls"),u=$("header:nth-child(1)"),r=$(".global-navigation").height();$(window).width()<=768?$("html, body").animate({scrollTop:$(i).offset().top-r-20},"1000"):$("html, body").animate({scrollTop:$(i).offset().top-r/1.4},"1000")})},filter:function(n){n.find(".slick-clone").show();n.find(".radio-slick").hide()},modifyID:function(){$(".card-section-js").each(function(){let n=$(this).find("h2").text();$(this).find(".card-container").each(function(){let t=$(this).find("a"),f=t.attr("id");t.attr("id",n+"_"+f);let i=$(this).find("h3"),e=i.attr("id");i.attr("id",n+"_"+e);let r=$(this).find(".flex-wrap.align-self-end"),o=r.attr("id");r.attr("id",n+"_"+o);let u=$(this).find(".card-link-js"),s=u.attr("aria-labelledby");u.attr("aria-labelledby",n+"_"+s)})});$(".slick-clone").each(function(){$(this).find(".card-container").each(function(){let n=$(this).find("a"),u=n.attr("id");n.attr("id","cloned-"+u);let t=$(this).find("h3"),f=t.attr("id");t.attr("id","cloned-"+f);let i=$(this).find(".flex-wrap.align-self-end"),e=i.attr("id");i.attr("id","cloned-"+e);let r=$(this).find(".card-link-js"),o=r.attr("aria-labelledby");r.attr("aria-labelledby","cloned-"+o)})})},allBrands:function(n){$(".card-filter .card-section-js").show();n.find(".slick-clone").hide();n.find(".radio-slick").show()}},mobileUnslickCountOne={slickContainer:$(".mobileUnslickCountOne"),initialize:function(n){this.slickContainer.on("init",function(t,i){if(i.slideCount==1&&$(window).width()<768)i.destroy();else if(i.slideCount>n){let t=1;i.slickFilter(function(){return t<=n?(t++,!0):$(this).find(".view-all-js").length>0?(t++,!0):(t++,!1)})}$(this).find(".same-height").length>0&&$(this).find(".same-height").each(function(){resetSameHeightElements($(this));processSameHeightElements($(this))})}).slick();$(".slider-remove-prev").find(".slick-arrow.slick-disabled").removeAttr("style")},reSize:function(){let n=this.slickContainer;$.each(n,function(){let n=$(this).find(".slick-slide").length;n==1&&$(window).width()<768?$(this).slick("unslick"):($(this).hasClass("slick-initialized")||$(this).slick(),$(this).hasClass("slick-initialized")&&$(".radio-filter.checked").siblings("input").val()=="All brands"&&($(this).slick("unslick"),$(this).slick()))});$(".slider-remove-prev").find(".slick-arrow.slick-disabled").removeAttr("style");setTimeout(function(){processSameHeightElements()},100)}},mobileUnslickCountCustom={slickContainer:$(".mobileUnslickCountCustom"),initialize:function(n){this.slickContainer.on("init",function(t,i){if(i.slideCount==1&&$(window).width()<768)i.destroy();else if(i.slideCount>n){let t=1;i.slickFilter(function(){return t<=n?(t++,!0):$(this).find(".view-all-js").length>0?(t++,!0):(t++,!1)})}$(this).find(".same-height").length>0&&$(this).find(".same-height").each(function(){resetSameHeightElements($(this));processSameHeightElements($(this))})}).slick();$(".slider-remove-prev").find(".slick-arrow.slick-disabled").removeAttr("style")},reSize:function(){let n=this.slickContainer;$.each(n,function(){let n=$(this).find(".slick-slide").length;n==1&&$(window).width()<768?$(this).slick("unslick"):($(this).hasClass("slick-initialized")||$(this).slick(),$(this).hasClass("slick-initialized")&&$(".radio-filter.checked").siblings("input").val()=="All brands"&&($(this).slick("unslick"),$(this).slick()))});$(".slider-remove-prev").find(".slick-arrow.slick-disabled").removeAttr("style");setTimeout(function(){processSameHeightElements()},100)}};$(".clearStarRating").on("click",function(){let n=$(".star-rating");n.attr("data-rating","0");$(".star-rating label").removeClass("blue-star")});viewMorePlans();ratePlanCarousel();winWidth=$(window).width();winHeight=$(window).height();$(window).resize(function(){($(window).width()!=winWidth||$(window).height()!=winHeight)&&(viewMorePlans(),ratePlanCarousel())});$(".refresh-tabpanel-slick-js").on("click",function(){console.trace();let t=$(this),i=t.attr("aria-controls"),n=$("#"+i),r=n.find(".infoblock-slider.slick-initialized");n.attr("tabindex","-1");r.slick("refresh");setTimeout(function(){processSameHeightElements()},0)});$(function(){let n=$(".accordionTab a");$(n).each(function(){let n=$(this);n.on("click",function(){let e=$(this),n,t,i,r=$(e).closest(".accordionTab"),f=$(r).find(".accordionTab-detail"),u=$("#"+r.data("panel"));t=document.getElementsByClassName("accordionTabPanel");let o=$("#"+f[0].id);for(o.hasClass("show")&&event.stopPropagation(),n=0;n<t.length;n++)t[n].id!=u[0].id?(document.getElementById(t[n].id).classList.add("d-sm-none"),t[n].className=t[n].className.replace("d-sm-block",""),t[n].className=t[n].className.replace("panelFadeIn","")):(u.removeClass("d-sm-none"),u.addClass("d-sm-block"),u.addClass("panelFadeIn"));for(i=document.getElementsByClassName("accordionTab"),n=0;n<i.length;n++)if(i[n].id==r[0].id)f.addClass("tabDescriptionFadeIn");else{let t,u=document.getElementById(i[n].id),r=$(u).find(".accordionTab-detail");for(t=0;t<r.length;t++)r[t].className=r[t].className.replace("tabDescriptionFadeIn","")}accordionthumbHeight($(r))})})});let slickTrigger,beforeChangeCurrentSlide;$(".link-slide").on("afterChange",function(n,t,i){if(lazyLoad($(this)),beforeChangeCurrentSlide!=i){var r=$(this);if(slickTrigger.hasClass("slick-arrow")){let n=r.find(".slick-active").first();n.find("a").focus();let t=r.find(".slick-dots .slick-active button");updateSlickDots(t,r)}else{let n=r.find(".slick-dots .slick-active button");$("body").hasClass("is_tabbing")&&n.focus();updateSlickDots(n,r)}}});$(".link-slide").on("beforeChange",function(n,t,i){beforeChangeCurrentSlide=i;slickTrigger=$(document.activeElement)});let dotsOfInfoblockSlider_carouselText=$("#dotsOfInfoblockSlider_carouselText").val()||"",dotsOfInfoblockSlider_ariaDescriptionText=$("#dotsOfInfoblockSlider_ariaDescriptionText").val()||"",slickArrow_ariaLabelPrevText=$("#slickArrow_ariaLabelPrevText").val()||"",slickArrow_ariaLabelNextText=$("#slickArrow_ariaLabelNextText").val()||"",$infoblock_slider=$(".infoblock-slider");$(".infoblock-slider, .responsive-slick-slider, .slick-small").on("init afterChange",function(){setTabindex();setSlickLabel($(this));setSlickDotsLabel($(this));removalSlickControl($(this))});$(".infoblock-slider-no-shadow").on("init afterChange",function(){setSlickDotsLabel($(this))});$(".infoblock-slider, .responsive-slick-slider").on("breakpoint",function(){setTabindex()});$(document).on("click",'.actual-tabs-controller-js [role="tab"]',function(){lazyLoad($("#"+$(this).attr("aria-controls")))});$(".modal").on("show.bs.modal",function(){var n=$(this);n.find(".carousel-navigator-centered").hasClass("slick-initialized")&&n.find(".carousel-navigator-centered").slick("unslick");n.find(".carousel-navigator-centered").each(function(){var n=$(this);n.children().length>1&&(n.children().length<3&&n.addClass("two-slides"),n.slick())})});$(".trigger-popup").focusout(function(){let t=$(this),n=$(".federal-bar-select-provinces-popup");$(".js-current-language").focus(function(){n.length>0&&(n.hide(),t.attr("aria-expanded","false"))});$(".connector-brand a").focus(function(){n.length>0&&(n.hide(),t.attr("aria-expanded","false"))})});$(".federal-bar-select-provinces").find(".trigger-popup").on("click touch",function(){let n=$(this),t=n.attr("aria-expanded");t?n.attr("aria-expanded","true"):n.attr("aria-expanded","false")});$(document).on("click touch",function(n){$(n.target).parents().addBack().is(".trigger-popup")||$(".federal-bar-select-provinces").find(".trigger-popup").attr("aria-expanded","false")});$(".slick-small").on("init reInit",function(){let n=$(this),t=n.parent().find(".slick-dots");t.appendTo(n.parent()).css("margin-top","-8px");$(".slick-small").each(function(t){n=$(this);let i=n.find(".slick-slide:not(.slick-cloned)");i.each(function(){let n=$(this),i=n.data("slick-index");n.attr("aria-labelledby","slick-slide-control"+(t+1)+i)})});$(".slick-cloned").removeAttr("id")});$(".slick-small").on("afterChange",function(n,t,i){if(lazyLoad($(this)),beforeChangeCurrentSlide!=i){let n=$(this);if(!slickTrigger.hasClass("slick-arrow")){let t=n.parent().find(".slick-dots .slick-active button");$("body").hasClass("is_tabbing")&&t.focus()}}});$(".slick-small").on("beforeChange",function(n,t,i){beforeChangeCurrentSlide=i;slickTrigger=$(document.activeElement)});const fixSlickAccessibility={beforeChangeCurrentSlide:null,slickTrigger:null,initialize:function(n){const t=this;n.on("init reInit",function(){t.setTabpanelLabel($(this))});n.on("afterChange",function(n,i,r){t.setTabpanelLabel($(this));t.beforeChangeCurrentSlide!=r&&(t.slickTrigger.hasClass("slick-arrow")||$("body").hasClass("is_tabbing")&&$(this).find(".slick-dots .slick-active button").focus())});n.on("beforeChange",function(n,i,r,u){t.beforeChangeCurrentSlide=r;t.slickTrigger=$(document.activeElement);const f=$(this).find(".slick-dots .slick-active"),e=$(this).find(".slick-next"),o=$(this).find(".slick-prev");u>r?(o.removeAttr("tabindex"),f.next().is(":last-child")&&e.attr("tabindex",-1)):(e.removeAttr("tabindex"),f.prev().is(":first-child")&&o.attr("tabindex",-1))});setTimeout(function(){n.find(".slick-arrow").on("click",function(){$(this).removeAttr("aria-disabled")})},100)},setTabpanelLabel:function(n){const t=n.find(".slick-current"),i=n.find(".slick-dots .slick-active button");t.attr("aria-labelledby",i.attr("id"));setTimeout(function(){t.removeAttr("aria-describedby");i.attr("tabindex",0)},0);$(".slick-cloned").removeAttr("id");lazyLoad(n)}};fixSlickAccessibility.initialize($(".infoblock-slider-no-shadow"));$('[data-toggle="tooltip"]').on("keydown",function(n){n.key==="Escape"&&$(this).tooltip("hide")});$('.disabled-select[aria-disabled="true"]').on("keydown click",function(n){n.type==="keydown"&&(n.which===32||n.which===13)&&n.preventDefault()});$(document).on("click",".minus-member-js",function(){members-=1;memberCountPicker()});$(document).on("click",".add-member-js",function(){members+=1;memberCountPicker()});$(".tab-panels-container.slider-with-data-options").on("init",function(){function r(){setTimeout(function(){let t=n.find(".slick-slide");t.each(function(){let n=$(this),t=$("#"+n.find("[data-tab]").data("tab"));t.attr("aria-controls",n.attr("id"));n.attr("aria-labelledby",t.attr("id"))})})}function u(){let t=parseInt(n.height()),i=parseInt(n.find(".slick-dots").height()),r=t-i-4,u=n.find(".slick-arrow");u.css({transform:"translateY(-50%)",top:r/2+"px","margin-top":"0px",transition:"all .1s"})}function f(){setTimeout(function(){let t=n.find(".slick-dots"),i=t.find("button");t.attr("aria-hidden",!0);t.removeAttr("role");i.removeAttr("role aria-controls aria-label aria-selected").attr("tabindex","-1")});n.find(".slick-dots button").css("cursor","default").on("click",function(n){n.stopPropagation();n.preventDefault()})}let n=$(this),t=!1,i=$(n.data("custom-tab-control"));n.find(".slick-next").attr("aria-label","Next tab");n.find(".slick-prev").attr("aria-label","Previous tab");u();r();f();n.find("img.lazy").on("load",function(){n.slick("setPosition")});n.on("afterChange",function(){if(setTimeout(function(){n.slick("setPosition")},300),r(),f(),t){let r=n.find(".slick-current"),u=$("#"+r.find("[data-tab]").data("tab"));i.find(".slick-announcer").html(u.text());t=!1}});n.on("setPosition",function(){u()});n.find(".slick-slide").on("focus",function(){$(this).closest(".slick-list").css("box-shadow","0 0 0 3px #fff, 0 0 2px 3px #fff, 0 0 4px 5px #5fb0fc, 0 0 2px 5px #8ec6fc")});n.find(".slick-slide").on("focusout",function(){$(this).closest(".slick-list").css("box-shadow","none")});n.find(".slick-arrow").on("click",function(){t=!0});i.on("keydown",function(){i.find(".slick-announcer").html("")})});$(document).on("show.bs.tooltip",'[data-toggle="tooltip"]',function(){$('[data-toggle="tooltip"]').not(this).tooltip("hide")});(function(n){n.fn.slideOut=function(t){let i=n.extend({},t);return this.each(function(){const t=n(this),r=t.find(".slideout-trigger-js"),u=r.find(".icon-o");r.on("click",function(f){f.preventDefault();t.toggleClass("maximized");const e=n("#"+r.attr("aria-controls"));t.hasClass("maximized")?(r.attr("aria-expanded","true"),u.addClass(i.maximizedIcon).removeClass(i.minimizedIcon),e.removeClass("d-none"),t.removeClass("closed minimized")):(r.attr("aria-expanded","false"),u.addClass(i.minimizedIcon).removeClass(i.maximizedIcon),e.addClass("d-none"),t.addClass("minimized").removeClass("closed maximized"))});n(document).bind("scroll",function(){n(document).scrollTop()>=i.scrollTop?t.hasClass("maximized")||t.addClass("minimized").removeClass("closed maximized"):(t.addClass("closed").removeClass("minimized maximized"),u.addClass(i.minimizedIcon).removeClass(i.maximizedIcon))})})}})(jQuery);$(document).ready(function(){function n(){let n=$(document);n.on("blur",".custom-tooltip",function(){$(this).tooltip("hide");$(this).removeClass("tooltip-focus")});n.on("focus",".custom-tooltip",function(){$(this).tooltip("show");$(this).addClass("tooltip-focus")});n.on("mouseenter click",".custom-tooltip",function(){$(this).tooltip("show");$("body").addClass("is_tabbing")});$("body").on("inserted.bs.tooltip",function(n){var t=$(n.target);$(".tooltip").on("mouseenter",function(){$(this).addClass("hover")});$(".tooltip, .custom-tooltip").on("mouseleave",function(){$(".tooltip").removeClass("hover");setTimeout(function(){!$(".tooltip").hasClass("hover")&&!$('.custom-tooltip[aria-describedby="'+$(".tooltip").attr("id")+'"').hasClass("tooltip-focus")&&$('.custom-tooltip[aria-describedby="'+$(".tooltip").attr("id")+'"').length>0&&$(".tooltip").tooltip("hide")},200)})})}compareAppleWatchColorTitle();n();$(".js-custom-accordion-trigger").on("click",function(){let i=$(this).attr("aria-expanded"),n=$(this).attr("aria-controls"),t=n.includes("#")?n:"#"+n;i==="true"?($(this).attr("aria-expanded",!1),$(t).addClass("collapse")):($(this).attr("aria-expanded",!0),$(t).removeClass("collapse"))})});$(".js-custom-accordion-trigger").each(function(){$(this).attr("aria-controls",$(this).attr("aria-controls").replace("#",""))});$("[data-slideout]").each(function(){$(this).slideOut($(this).data("slideout"))});$(document).ready(function(){$.widget("brf.ratings",{widgetEventPrefix:"ratings",options:{starTotalCount:5,eventListener:!0,clearTemplate:null},_create:function(){var t=this.options,n=this.element,i;if(t.eventListener&&(this._mouseover(n,this),this._mouseout(t,n,this),this._mouseclick(n,this),this._keypress(n,this)),i=this,t.clearTemplate)$(n).find("#ratingClear").on("click",function(t){i._clear(n);i._complete($(n),0);t.preventDefault()})},_clear:function(n){$(n).find("label").removeClass("blue-star")},_mouseover:function(n,t){$(n).on("mouseover",".rating-stars",function(){t._clear(n);t._recursiveClass(this)})},_mouseout:function(n,t,i){$(t).on("mouseout",".rating-stars",function(){var u=$(t).attr("data-rating"),r;for(i._clear(t),r=0;r<n.starTotalCount;r++)r<u&&($(t).find("label").eq(r).hasClass("blue-star")||$(t).find("label").eq(r).addClass("blue-star"))})},_mouseclick:function(n){var t=this;$(n).on("click",".rating-stars",function(){t._complete(n,$(this).attr("value"))})},_keypress:function(n){var t=this;$(n).on("keypress",".rating-stars",function(){var i=event.charCode||event.keyCode;i===32&&event.preventDefault();(i===32||i===13)&&t._complete(n,$(this).attr("value"))})},_complete:function(n,t){$(n).attr("data-rating",t);this._trigger("complete",null,{value:t})},_recursiveClass:function(n){$(n).hasClass("blue-star")||$(n).addClass("blue-star");n.previousSibling&&this._recursiveClass(n.previousSibling)},rating:function(n){var i=$(this.element),t;for(i.attr("data-rating",n),this._clear(this.element),t=0;t<this.options.starTotalCount;t++)t<parseInt(n)&&(i.find("label").eq(t).hasClass("blue-star")||i.children().eq(t).addClass("blue-star"))}})}),function(n){let r,t,i={},f=window.recommendationIdExclusion?window.recommendationIdExclusion:[],u="",e=function(n,t){let i=[];for(let r=0;r<n.length;r+=t)i.push(n.slice(r,r+t));return i};String.prototype.format=function(){var n=arguments;return this.replace(/\{\{|\}\}|\{(\d+)\}/g,function(t,i){return t=="{{"?"{":t=="}}"?"}":n[i]})};String.prototype.toCurrency=function(n,t,i){let e="",o=parseFloat(this).toFixed(2).toString(),r=o.split(".")[0],u=o.split(".")[1],f=t?n=="en"?"/mo.":"/mois":"";switch(n){case"en":e=i?"<sup>$<\/sup>{0}<sup>.{1}{2}<\/sup>".format(r,u,f):"${0}.{1}{2}".format(r,u,f);break;case"fr":e=i?"{0}<sup>,{1}<\/sup> <sup>${2}<\/sup>".format(r,u,f):"{0},{1} ${2}".format(r,u,f)}return e};try{i={host:window.location.host,activateAdobeTrackingReport:!0,postUrl:function(n){return i.activateAdobeTrackingReport&&n?"https://bellca.tt.omtrdc.net/rest/v1/delivery?client=bellcanada&sessionId={0}".format(n):"https://bellca.tt.omtrdc.net/rest/v1/mbox?client=bellcanada"},mbox:"PDP_Device_Recs",contentType:"application/json; charset=utf-8",headers:{"content-type":"application/json; charset=utf-8","cache-control":"no-cache"},getAPIPostInfo:function(){try{return{marketingCloudVisitorId:_satellite.getVisitorId().getMarketingCloudVisitorID(),locationHint:_satellite.getVisitorId().getLocationHint(),blob:_satellite.getVisitorId().getAudienceManagerBlob(),supplementalDataId:_satellite.getVisitorId()._supplementalDataIDCurrent}}catch(n){console.log(n);console.log("Adobe target requested info missing, may impact the analytics.")}return{marketingCloudVisitorId:this.helpers.getCookieByNameFromPairs("MCMID"),locationHint:this.helpers.getCookieByNameFromPairs("MCAAMLH"),blob:this.helpers.getCookieByNameFromPairs("MCAAMB")}},helpers:{getAMCVCookie:function(){let n="";try{let t=/AMCV_/i,i=document.cookie.split(";");i.forEach(function(i){let r=i.match(t);r&&(n=decodeURI(r.input.split("=")[1]))})}catch(t){}return n},getUserSessionFromMbox:function(){return n.cookie("mbox").split("#")[1]},getMarketingCloudGroup:function(n){let t={};try{let r=n.split("|"),i=[];r.forEach(function(n,t){n=n.replace(/-\d+/g,"");t!==0&&i.push(n)});i.forEach(function(n,r){r%2==0&&(t[n]=i[r+1])})}catch(i){return}return t},getCookieByNameFromPairs:function(n){let i=this.getAMCVCookie(),t=this.getMarketingCloudGroup(i);return Object.keys(t).forEach(function(i){if(i.indexOf(n)!==-1)return t[i]}),t[n]}}};r={deviceType:n("meta[name=OS]").attr("content").indexOf("Apple")>=0?"iPhone":n("meta[name=OS]").attr("content").indexOf("Android")>=0?"Android":"all",deviceId:n("div[product-id]").attr("product-id"),getDeviceOS:function(){return n("meta[name=OS]").attr("content")?n("meta[name=OS]").attr("content"):"All"},isApple:function(){return this.getDeviceOS().toLowerCase().indexOf("apple")>=0},isAndroid:function(){return this.getDeviceOS().toLowerCase().indexOf("android")>=0},getEntityId:function(){return this.deviceId.replace(/[-]+/g,"").slice(0,10)}};t={mainContainer:n(".mobility-recommendation-tile"),lang:n("html").attr("lang"),province:n("meta[name=province]").attr("content").toLowerCase(),recSize:3,fieldsClassName:{productWrap:"related-product-wrap",clickAableArea:"related-product-click-area",productTitle:"related-products-name",networkType:"product-network",productImage:"related-product-img",productPrice:"rec-price",ratePlaneOption:"rate-plane-description"}};u=r.isApple()?window.recommendationTrackingCode_Apple:r.isAndroid()?window.recommendationTrackingCode_Android:window.recommendationTrackingCode_All}catch(o){}let s=function(){let n=i.activateAdobeTrackingReport,t={context:{channel:"web",browser:{host:i.host.toString()}},id:{marketingCloudVisitorId:i.getAPIPostInfo().marketingCloudVisitorId},experienceCloud:{audienceManager:{locationHint:i.getAPIPostInfo().locationHint,blob:i.getAPIPostInfo().blob},analytics:{logging:"server_side",supplementalDataId:i.getAPIPostInfo().supplementalDataId}},execute:{mboxes:[{name:i.mbox,index:1,parameters:{DeviceType:r.deviceType,"entity.id":r.getEntityId()}}]}},u={mbox:i.mbox,requestLocation:{host:i.host.toString()},mboxParameters:{DeviceType:r.deviceType,"entity.id":r.getEntityId()}};return n?t:u},h=function(n,i,r){let u=[];for(let f in n){let e=n[f].attributes[i];e["productName_"+i]&&e["value_"+t.province]!==""&&r.indexOf(n[f].id)<0&&u.push({products:e,productID:n[f].id})}return u},c=function(n,i,r,f,o){let h=e(i,r),s=h[0];for(let i in s){let r=s[i].products;n.eq(parseInt(i)).attr("data-product-id",s[i].productID);for(let e in r){if(e.indexOf("imageUrl_")>=0&&n.eq(parseInt(i)).find("."+t.fieldsClassName.productImage).attr("src",r[e]).attr("data-src",r[e]),e.indexOf("pageUrl_")>=0&&n.eq(parseInt(i)).find("."+t.fieldsClassName.clickAableArea).attr("href",r[e]+u),e.indexOf("productName_")>=0&&(n.eq(parseInt(i)).find("."+t.fieldsClassName.clickAableArea).attr("aria-label",r[e]),n.eq(parseInt(i)).find("."+t.fieldsClassName.productTitle).attr("id",r[e]),n.eq(parseInt(i)).find("."+t.fieldsClassName.productTitle).html(r[e]),n.eq(parseInt(i)).find("."+t.fieldsClassName.productImage)),e.indexOf("network_")>=0&&n.eq(parseInt(i)).find("."+t.fieldsClassName.networkType).html(r[e]),e.indexOf("value_")>=0&&e.indexOf(o)>=0){let u=r[e].toCurrency(t.lang,!1,!1);n.eq(parseInt(i)).find("."+t.fieldsClassName.productPrice).html(u)}e.indexOf("ratePlanPriceDesc_")>=0&&e.lastIndexOf(f)>=0&&e.indexOf(o)>=0&&n.eq(parseInt(i)).find("."+t.fieldsClassName.ratePlaneOption).html(r[e])}n.eq(parseInt(i)).removeClass("hide")}s.length>0&&t.mainContainer.parent().removeClass("hide")},l=function(i){t.mainContainer.each(function(){let r=n(this),u=r.find("."+t.fieldsClassName.productWrap);try{c(u,i,t.recSize,t.lang,t.province)}catch(f){}})},a=()=>{let u=s(),r=JSON.stringify(u);console.log(r);n.ajax({type:"POST",url:i.postUrl(i.helpers.getUserSessionFromMbox()),dataType:"html",headers:i.headers,async:!0,data:r,success:function(i){try{let r=JSON.parse(i).content||JSON.parse(i).execute.mboxes[0].options[0].content,u=n.parseJSON(r).Recs,e=h(u[0],t.lang,f);l(e);window.dispatchEvent(new Event("resize"))}catch(r){}},error:function(){}})};if(r)try{var v=setInterval(function(){typeof _satellite!="undefined"&&typeof _satellite.getVisitorId=="function"&&(clearInterval(v),a())},300)}catch(o){console.log(o)}}(jQuery);BELL=function(n,t){return n.shop=n.shop||{},n.shop.rateplans={completed:!1,selectors:{deviceTypes:"#ratePlansDeviceTypes",deviceType:".js-shop-rp-devicetype",deviceTypeTitle:".js-shop-rp-devicetype-title",plans:"#ratePlans",plan:".js-shop-rp-plan",planTitle:".js-shop-rp-plan-name",planPrice:".rsx-price",datas:"#ratePlansData",data:".js-shop-rp-data",dataTitle:".js-shop-rp-data-name",viewAllDevicesLink:".js-shop-view-all-devices-link",chooseYourDeviceText:".js-shop-rp-choose-text"},summary:{container:"#js-shop-rateplans-summary-dock",selectingDeviceType:"#selectingDeviceTypeStep",optionName:".rsx-dock-rp-option-name",selectingPlan:"#selectingPlanStep",selectingData:"#selectingDataStep",price:".rsx-price",current:"rsx-dock-rp-option_current",completed:"rsx-dock-rp-option_complete",chooseDeviceLink:"#rsx-dock-rp-link",titles:{deviceType:"SELECT A PHONE TYPE",plan:"SELECT A VOICE OPTION",data:"SELECT DATA OPTION"},save:function(){this.titles.deviceType=t(this.selectingDeviceType).find(this.optionName).html();this.titles.plan=t(this.selectingPlan).find(this.optionName).html();this.titles.data=t(this.selectingData).find(this.optionName).html();var n=t("#ratePlans label.js-shop-rp-plan.rsx-active").find("input").val()},reset:function(){n.shop.rateplans.completed||(t(this.selectingDeviceType).find(this.optionName).html(this.titles.deviceType),t(this.selectingPlan).find(this.optionName).html(this.titles.plan),t(this.selectingData).find(this.optionName).html(this.titles.data),t(this.container).find(this.chooseDeviceLink).addClass("hidden"),BELL.shop.addaline!=null&&BELL.shop.addaline.addDevice!=null&&(BELL.shop.addaline.addDevice=!1));t(this.container).find(this.chooseDeviceLink).attr("href",t(n.shop.rateplans.selectors.viewAllDevicesLink).attr("href"))},updatePrice:function(){var n=0,r=t("input[name=rate-plan-option]:checked").val(),u=t("input[name=data-plan]:checked").val(),e=t("#ratePlans label.js-shop-rp-plan.rsx-active").find("input").val(),o=t("label.js-shop-rp-plan.rsx-active").find(".price-bonus-text").data("discountValue"),i,s,f;isNaN(u)||(n+=parseInt(u));isNaN(r)||(n+=parseInt(r));isNaN(u)||!isNaN(r)||isNaN(e)||(n+=parseInt(e));isNaN(o)||(n-=parseInt(o));i=t("meta[name=language]").attr("content")==="en"?"<sup>$<\/sup>"+n+"<sup>.00 /mo<\/sup>":n+"<sup>,00 $/mois<\/sup>";t(this.container).find(this.price).html(i);t("#existingMonthlyPrice.addalineHidden").length>0&&(s=t("#existingMonthlyPrice.addalineHidden").val(),f=parseInt(s)+n,i=t("meta[name=language]").attr("content")==="en"?"<sup>$<\/sup>"+f+"<sup>.00 /mo<\/sup>":f+"<sup>,00 $/mois<\/sup>",t(this.container).find("#addaline-price-total").html(i))},refreshSteps:function(i){n.shop.rateplans.completed?(t(this.selectingDeviceType).removeClass(this.current).addClass(this.completed),t(this.selectingPlan).removeClass(this.current).addClass(this.completed),t(this.selectingData).removeClass(this.current).addClass(this.completed)):(t(this.selectingDeviceType).toggleClass(this.current,i.deviceType.current).toggleClass(this.completed,i.deviceType.completed),t(this.selectingPlan).toggleClass(this.current,i.plan.current).toggleClass(this.completed,i.plan.completed),t(this.selectingData).toggleClass(this.current,i.data.current).toggleClass(this.completed,i.data.completed))},currentDeviceType:function(){this.reset();this.refreshSteps({deviceType:{current:!0,completed:!1},plan:{current:!1,completed:!1},data:{current:!1,completed:!1}})},completedDeviceType:function(){this.reset();var i=n.shop.rateplans.selectors,r=t(i.deviceTypes).find(i.deviceType+".rsx-active "+i.deviceTypeTitle).html();t(this.selectingDeviceType).find(this.optionName).html(r);t(this.container).removeClass("hidden");this.refreshSteps({deviceType:{current:!1,completed:!0},plan:{current:!0,completed:!1},data:{current:!1,completed:!1}})},currentPlan:function(){if(!n.shop.rateplans.completed){var i=n.shop.rateplans.selectors;t(i.plans).find(i.plan).removeClass("rsx-active");t("input[name=rate-plan-option]").prop("checked",!1)}this.refreshSteps({deviceType:{current:!1,completed:!0},plan:{current:!0,completed:!1},data:{current:!1,completed:!1}});n.shop.addaline!=null&&n.shop.addaline.SBratePlan!=null&&(t("#ratePlans.rsx-radios").radios("setProperties","label[data-plan-guid="+n.shop.addaline.SBratePlan+"] input","checked",!0),t("#ratePlans.rsx-radios label[data-plan-guid="+n.shop.addaline.SBratePlan+"] input").length<=0&&t("body").loadingIndicator("hide"),n.shop.addaline.SBratePlan=null)},completedPlan:function(){var i=n.shop.rateplans.selectors,r=t(i.plans).find(i.plan+".rsx-active "+i.planTitle).data("short-name");t(this.selectingPlan).find(this.optionName).html(r);this.refreshSteps({deviceType:{current:!1,completed:!0},plan:{current:!1,completed:!0},data:{current:!0,completed:!1}})},currentData:function(){if(!n.shop.rateplans.completed){var i=n.shop.rateplans.selectors,r=t(i.plans).find(i.plan+".rsx-active "+i.planTitle).data("voice-name");t("#ratePlansData").find(".js-data-plan-option").addClass("hidden");t("*[data-call-option='"+r+"'].js-data-plan-option").each(function(){t("*[data-call-option='"+r+"'].js-data-plan-option").removeClass("hidden")});t(i.datas).find(i.data).removeClass("rsx-active");t("input[name=data-plan]:checked").prop("checked",!1)}this.refreshSteps({deviceType:{current:!1,completed:!0},plan:{current:!1,completed:!0},data:{current:!0,completed:!1}});n.shop.addaline!=null&&n.shop.addaline.SBhandset!=null&&(t(".rsx-product-list a#"+n.shop.addaline.SBhandset).trigger("click"),t(".rsx-product-list a#"+n.shop.addaline.SBhandset).length<=0&&t("body").loadingIndicator("hide"))},completedData:function(){var i=n.shop.rateplans.selectors,u=t(i.datas).find(i.data+".rsx-active "+i.dataTitle).html(),r=t(i.plans).find(i.plan+".rsx-active "+i.planTitle).data("voice-name");t("*[data-call-option='"+r+"'].js-shop-rp-data").each(function(){t("*[data-call-option='"+r+"'].js-shop-rp-data").removeClass("hidden")});t(this.selectingData).find(this.optionName).html(u);this.refreshSteps({deviceType:{current:!1,completed:!0},plan:{current:!1,completed:!0},data:{current:!1,completed:!0}});t(this.container).find(this.chooseDeviceLink).removeClass("hidden")}},prices:{updateFields:function(){var i=t("#ratePlans .js-shop-rp-plan.rsx-active").data("plan-offer"),n;t(".js-shop-solution-builder-form input[name='RatePlanOfferId']").val(i);n=t("#ratePlansData .js-shop-rp-data.rsx-active").data("product-offer");t(".js-shop-solution-builder-form input[name='DataPlanOfferId']").val(n)}},states:{initial:{from:".js-shop-rateplans-app-start",to:".js-shop-rateplans-app-end"},selectingDeviceType:{from:".js-shop-rateplans-app-start",to:"#selectingPlan",after:function(){n.shop.rateplans.summary.currentDeviceType()}},selectingPlan:{from:".js-shop-rateplans-app-start",to:"#selectingData",navigateToSelector:"#selectingPlan",after:function(){n.shop.rateplans.summary.completedDeviceType();n.shop.rateplans.summary.currentPlan()}},selectingData:{from:"#selectingData",to:"#selectingPhone",navigateToSelector:"#selectingData",after:function(){n.shop.rateplans.summary.completedDeviceType();n.shop.rateplans.summary.completedPlan();n.shop.rateplans.summary.currentData()}},selectingPhone:{from:".js-shop-rateplans-app-start",to:".js-shop-rateplans-app-end",navigateToSelector:"#selectingPhone",after:function(){n.shop.rateplans.summary.completedDeviceType();n.shop.rateplans.summary.completedPlan();n.shop.rateplans.summary.completedData()}}},addALine:{getMobilityAccounts:function(){t.ajax({url:"/ajax/Mobility/GetAddaLineEligibleAccounts",data:{addLineFlow:1},async:!0,type:"post",dataType:"json",success:function(n){return n},error:function(n){console.error("Error loading view: ",n);defer.reject()},complete:function(){}})},minDataLinkAjax:function(n){t.ajax({url:"/ajax/Mobility/ResetAddDataFlag",success:function(){window.location.href=n},error:function(){t("body").loadingIndicator("hide")}})}},init:function(){var i=this,r,e,u,f;this.selectAccountModal=t("#add-a-line-select-account-modal");r=t(i.selectors.deviceTypes).radios({toggleClosest:i.selectors.deviceTypes+" .rsx-rateplans-selectable"});t("body").addClass("rsx-dock-rp-enabled");e=r.data("value-type")==="href";e||t(i.selectors.deviceTypes).find(i.selectors.deviceType).removeClass("rsx-active");r.find(".rsx-rateplans-selectable").eq(0).addClass("rsx-rateplans-devicetype_mobile-active");t("#previousDeviceType").on("click",function(){i.changeDevTypeMobile(r,"prev")});t("#nextDeviceType").on("click",function(){i.changeDevTypeMobile(r,"next")});r.on("radioscomplete",function(n,t){e?window.location=t.value:i.loadPlans(t.value)});u=this.getUserNameCookie("mybell");f=this.getUserNameCookie("myaccount");u!==""&&(t("form #USER_ec").val(u),t("form #USER_ec__Footer").val(u),t("form #checkboxAuthorize").prop("checked",!0),t("form #checkboxAuthorize__Footer").prop("checked",!0));f!==""&&(t("form #USER_ec__MyAccount").val(f),t("form #USER_ec__MyAccountFooter").val(f),t("form #checkboxAuthorize__MyAccount").prop("checked",!0),t("form #checkboxAuthorize__MyAccountFooter").prop("checked",!0));t(document).on("click.login","form [id*='loginForm_ec']",function(t){n.shop.rateplans.doLoginEC(t)});i.initWidgets();i.summary.save();t(document).ready(function(){i.transitionTo(i.states.selectingDeviceType)});window.addEventListener("unload",function(){window.scrollTo(0,0)});t("#simplyWorldRates").on("change",function(){if(this.value=="0")t("#txtLandlineRate").val(""),t("#txtMobileRate").val("");else{var n=this.value.split(";");t("#txtLandlineRate").val(n[0]);t("#txtMobileRate").val(n[1])}});t("#basicLongDistanceCountry").on("change",function(){this.value=="0"?(t("#basicLongDistanceCode").text(""),t("#countryCodeLabel").hide()):(t("#basicLongDistanceCode").text(this.value),t("#countryCodeLabel").show())});t("#basicLongDistanceRates").on("change",function(){this.value=="0"?t("#basicLongDistanceAreas").text(""):t("#basicLongDistanceAreas").text(this.value)});t("#islandTiesCommunities").on("change",function(){this.value=="0"?t("#includedCommunities").text(""):t("#includedCommunities").text(this.value)})},changeDevTypeMobile:function(n,t){var r=n.find(".rsx-rateplans-selectable").length,i=n.find(".rsx-rateplans-devicetype_mobile-active").index(),u=n.find(".rsx-rateplans-selectable"),f,e;t==="next"?(f=i+1===r?0:i+=1,u.removeClass("rsx-rateplans-devicetype_mobile-active").eq(f).addClass("rsx-rateplans-devicetype_mobile-active")):(e=i-1<0?r-1:i-=1,u.removeClass("rsx-rateplans-devicetype_mobile-active").eq(e).addClass("rsx-rateplans-devicetype_mobile-active"))},initWidgets:function(){var n=this,r;t(n.selectors.plans).on("radioscomplete",function(){var i,r;t(".rsx-product-list .rsx-pricing-model").length>0&&(i=t(this).find("label").data("contractOptions"),i.indexOf(",")?(r=i.split(","),t.each(r,function(t,i){n.revealPriceModel(i)})):n.revealPriceModel(i));n.transitionTo(n.states.selectingData)});r=t("#ratePlansData").radios({toggleClosest:".rsx-rateplans-selectable"});r.on("radioscomplete",function(){n.transitionTo(n.states.selectingPhone)});var i=t(".rsx-rateplans-addons.rsx-slideshow").slideshow({classHidden:"rsx-slide-hide-xs",matchMedia:"(max-width: 519px)"}),u=t(".rsx-rateplans-addons.rsx-slideshow .rsx-thumbnails"),i=t(".rsx-rateplans-addons.rsx-slideshow .rsx-slideshow-gallery").on("init",function(n,t){t.refresh=t.unfilterSlides}).slick({infinite:!0,arrows:!1,responsive:[{breakpoint:519,settings:{slidesToShow:1,slidesToScroll:1}}]}).on("beforeChange",function(n,t,i,r){u.radios("setCheckedByIndex",r)});u.on("radioscomplete",function(n,t){i.slick("slickGoTo",t.index)});t(".rsx-rateplans-addons .rsx-button-previous").on("click",function(){i.slick("slickPrev")});t(".rsx-rateplans-addons .rsx-button-next").on("click",function(){i.slick("slickNext")})},revealPriceModel:function(n){t("*[data-contractterm='"+n+"'].rsx-pricing-model").each(function(){t(this).parent().find(".rsx-pricing-model.rsx-active").length<=0&&t(this).addClass("rsx-active")})},navigateToSelector:function(n){var i,r;typeof n!="undefined"&&(i=t(n),i.length>0&&(r=i.offset(),this.navigateToOffset(r.top)))},navigateToOffset:function(n){if(typeof n!="undefined"){var i={scrollTop:n};t("html, body").animate(i,1500)}},transitionTo:function(n){var r=this.states.initial.from,i=this.states.initial.to;this.completed||typeof n.from=="undefined"||(r=n.from);this.completed||typeof n.to=="undefined"||(i=n.to);t(r).nextUntil(i).andSelf().removeClass("hidden");this.completed||i===this.states.initial.to||t(i).nextUntil(this.states.initial.to).andSelf().addClass("hidden");this.completed||typeof n.navigateToSelector=="undefined"||this.navigateToSelector(n.navigateToSelector);typeof n.after!="undefined"&&n.after();this.summary.updatePrice();this.prices.updateFields()},loadPlans:function(i){var r=this;(n.shop.addaline==null||n.shop.addaline.SBhandset==null)&&(t("body").loadingIndicator(),t("body").loadingIndicator("show"));t.get(i,function(i){var f,o;try{var u=r.states.initial.from,e=r.states.initial.to,s=t(u).nextUntil(e),h=r.getRadiosState(s);s.remove();f="js-shop-rateplans-app-start";u!=null&&u.length>0&&(f=u.replace(".",""));f="[class*="+f+"]";t(i).find(f).nextUntil(e).insertAfter(u);o=t(u).nextUntil(e);o.each(function(){n.rsx.utils.initWidgets(t(this))});r.initWidgets();r.completed&&r.setRadiosState(o,h);r.transitionTo(r.states.selectingPlan);BELL.shop&&BELL.shop.legals&&typeof BELL.shop.legals.init=="function"&&BELL.shop.legals.init()}catch(c){console.error("Loading of the device type failed: ",c)}}).error(function(n){console.error("Loading of the device type failed: ",n)}).always(function(){(n.shop.addaline==null||n.shop.addaline.SBhandset==null)&&t("body").loadingIndicator("hide")})},enumerateRadios:function(n,i){n.each(function(){var n=t(this).filter(".rsx-radios");n.length==0&&(n=t(this).find(".rsx-radios"));n.each(function(){i(t(this))})})},getRadiosState:function(n){var t={};return this.enumerateRadios(n,function(n){t[n.attr("id")]=n.find("label.rsx-active").index()}),t},setRadiosState:function(n,t){this.enumerateRadios(n,function(n){n.radios("setCheckedByIndex",t[n.attr("id")])})},formatPrice:function(n){var i=Math.floor(n),r=n%1;return t("meta[name=language]").attr("content")==="en"?"<sup>$<\/sup>"+i+"<sup>."+r.toFixed(2).substring(2)+" /mo<\/sup>":i+"<sup>,"+r.toFixed(2).substring(2)+" $/mois<\/sup>"},linkToAnotherProfile:function(){t("#add-a-line-warning-modal").modal("close");n.shop.rateplans.openMybellLoginModal()},openMybellLoginModal:function(){n.shop.rateplans.resetError();t("#add-a-line-mybell-login-modal").modal("open")},selectMobilityAccount:function(i,r,u){n.shop.rateplans.closeMultiAccountModal();t("body").loadingIndicator();t("body").loadingIndicator("show");t.ajax({url:"/ajax/Mobility/SelectMobilityAccount",data:{BAN:i},async:!0,type:"post",dataType:"text",success:function(){if(t("#add-a-line-select-account-modal").closest("body").hasClass("page-code_prsshpwls-family-sharing"))location.reload();else{t(".rsx-product-purchase-option").each(function(){var n=t(this).find("input#selectOption-term"),i;return t(this).hasClass("rsx-no-term")?(t(n).trigger("click"),!1):(i=t(this).find("input#selectOption-term").data("mindataplaninmb"),r>i)?(t(n).trigger("click"),!1):void 0});var n=t(".prodDetailBuynow[data-product-id='"+u+"'] .js-shop-solution-builder-form");n.length>0?n.submit():t(".js-shop-solution-builder-form").submit()}},error:function(){console.log("selectMobilityAccount Error")}})},closeMultiAccountModal:function(){t("#add-a-line-select-account-modal").modal("hide")},resetError:function(){t("#add-a-line-mybell-login-modal .rsx-form-group").removeClass("rsx-error");t("#add-a-line-mybell-login-modal #errorUser_ec").css("display","none");t("#add-a-line-mybell-login-modal #errorPassword_ec").css("display","none");t("#add-a-line-mybell-login-modal #USER_ec").val("");t("#add-a-line-mybell-login-modal #PASSWORD_ec").val("");t("#add-a-line-mybell-login-modal").find(":focusable").eq(0).focus()},doLoginEC:function(n){var o,s,h;n!=null&&n.preventDefault();var i=t(n.currentTarget.form),f=i.attr("id"),e="";f.indexOf("__")>-1&&(e=f.substr(f.indexOf("__"),f.length));var c=i.find("[id*='USER_ec']").val()==="",l=i.find("[id*='PASSWORD_ec']").val()==="",r="",u="",a=function(n){var t="";return n&&(t=jQRSX(n).data("omniture-error-text")),t};i.find("[id*='USER_ec']").closest(".rsx-form-group").removeClass("rsx-error").removeAttr("aria-describedby").attr("aria-invalid","false");i.find("[id*='PASSWORD_ec']").closest(".rsx-form-group").removeClass("rsx-error");i.find("[id*='errorUser_ec']").css("display","none");i.find("[id*='errorMessage_ec']").css("display","none");i.find("[id*='errorPassword_ec']").css("display","none");i.find("[id*='USER_ec']").removeAttr("aria-describedby").attr("aria-invalid","false");i.find("[id*='PASSWORD_ec']").removeAttr("aria-describedby").attr("aria-invalid","false");c&&l&&(r="Login_err_04",i.find("[id*='USER_ec']").focus().attr("aria-describedby","errorUser_ec"+e).attr("aria-invalid","true"),i.find("[id*='PASSWORD_ec']").attr("aria-describedby","errorPassword_ec"+e).attr("aria-invalid","true"));c&&(i.find("[id*='errorUser_ec']").css({display:"block",color:"#A00"}),i.find("[id*='USER_ec']").closest(".rsx-form-group").addClass("rsx-error"),r===""&&(i.find("[id*='USER_ec']").focus().attr("aria-describedby","errorUser_ec").attr("aria-invalid","true"),r="Login_err_06"),o=a(i.find("[id*='errorUser_ec']")),u&&o&&(u+=","),u+=o);l&&(i.find("[id*='errorPassword_ec']").css("display","block"),i.find("[id*='errorPassword_ec']").css("color","#A00"),i.find("[id*='PASSWORD_ec']").closest(".rsx-form-group").addClass("rsx-error"),r===""&&(i.find("[id*='PASSWORD_ec']").focus().attr("aria-describedby","errorPassword_ec").attr("aria-invalid","true"),r="Login_err_05"),s=a(i.find("[id*='errorPassword_ec']")),u&&s&&(u+=","),u+=s);r!==""?(typeof s_oTrackPage!="undefined"&&s_oTrackPage({s_oAPT:"657-2-2",s_oARS:r,s_oPLE:u}),i.find("[id*='errorMessage_ec']").css("display","block")):(h="mybell",e.indexOf("MyAccount")>-1&&(h="myaccount"),this.setUserNameCookie(i.find("[id*='USER_ec']").val(),h),i.find("[id*='USER_ec']").val(this.correctGID(i.find("[id*='USER_ec']").val())),i.submit())},setUserNameCookie:function(n,i){i==="myaccount"?t("form #checkboxAuthorize__MyAccount").is(":checked")||t("form #checkboxAuthorize__MyAccountFooter").is(":checked")?this.Set_Cookie("rememberMyAccountUserName",n,new Date(t.now()+7776e6),"/",".bell.ca"):this.Set_Cookie("rememberMyAccountUserName",n,new Date(t.now()),"/",".bell.ca"):t("form #checkboxAuthorize").is(":checked")||t("form #checkboxAuthorize__Footer").is(":checked")?this.Set_Cookie("rememberMyBellUserName",n,new Date(t.now()+7776e6),"/",".bell.ca"):this.Set_Cookie("rememberMyBellUserName",n,new Date(t.now()),"/",".bell.ca")},getUserNameCookie:function(n){var i="",t;return(i=n==="myaccount"?"rememberMyAccountUserName":"rememberMyBellUserName",t=this.getCookieValue(i),t!=null)?t:""},getCookieValue:function(n){var i=t.cookie(n);return i!==""?i:null},Set_Cookie:function(n,t,i,r,u,f){document.cookie=n+"="+escape(t)+(i?";expires="+i.toGMTString():"")+(r?";path="+r:"")+(u?";domain="+u:"")+(f?";secure":"")},correctGID:function(t){return n.rsx.utils.stripAccentString(t)},toggleLogin:function(n){try{typeof n.url=="undefined"||n.url.length==0||n.$fullname.text().trim().length>0||typeof n.cookie!="undefined"&&n.cookie!=null&&n.cookie.length>0&&(n.$login.addClass("hidden"),n.$login.prev().removeClass("hidden"),t.get(n.url,{userSession:n.cookie},function(t){if(typeof t!="undefined"&&t!=null&&t!=""){var i=t;if(typeof t[n.field]=="undefined")try{i=JSON.parse(t)}catch(n){console.warn(n)}typeof i[n.field]!="undefined"?(n.$login.addClass("hidden"),n.$login.prev().removeClass("hidden"),n.$fullname.text(i[n.field])):console.error(i)}else console.error("No user information received")}))}catch(n){console.error("Error getting "+n.field+" information: ",n)}}},n}(BELL||{},$);$(document).ready(function(){$(".select-account-button").click(function(){BELL.shop.rateplans.selectMobilityAccount(this.id,$(this).data("minDataplanInMb"),$(this).data("product-id"))})}),function(n,t){var n=n||{};n.StoreLocator=function(n,i){"use strict";function r(n,i){var r="http://bellca.know-where.com/bellca/cgi/csg?callback=?";this.getByIp=function(u){t.getJSON(r,{lang:n,option:i},u)};this.getByLatLng=function(u,f,e){t.getJSON(r,{ll:f+","+e,lang:n,option:i},u)}}this.isGeolocationSupported=!!navigator.geolocation;this.service=new r(n,i);this.byIp=function(n){this.service.getByIp(n)};this.byLatLng=function(n){navigator.geolocation.getCurrentPosition(t.proxy(function(t){this.service.getByLatLng(n,t.coords.latitude,t.coords.longitude)},this),t.proxy(function(){this.service.getByIp(n)},this))};this.find=function(n){this.isGeolocationSupported?this.byLatLng(n):this.byIp(n)}}}(BELL,jQuery);BELL=function(n,t){function b(){return window.attachEvent&&!window.addEventListener}function k(n,i,r,u,f){t.get("/ajax/toolbox/CorsProxyAuthenticate",{key:i,baseAddress:n,uri:r},function(n){try{u(t.parseJSON(n))}catch(i){f&&f()}}).fail(function(){f&&f()})}function o(n,i,r,f){b()?t.get("/ajax/toolbox/corsproxy",{baseAddress:n,uri:i},function(n){try{r(t.parseJSON(n))}catch(i){f&&f()}}).fail(function(){f&&f()}):u&&t.get(u+i,function(n){r(n)}).fail(function(){f&&f()})}function d(n){t("html,body").animate({scrollTop:n.offset().top-90},"slow")}function l(n){var u=n.find("option:selected").text(),i,r;t("#title-model").html(u);i=t("#price-label-model");i.html(i.attr("data-nopricetitle"));r=t("#image-model");r.attr("src",r.attr("data-noimageaddr"));t("#price-model").empty();a();t("#find-my-phone-section").hide()}function s(){t("#details-model").hide();t("#find-my-phone-section").hide()}function a(){var n=t("#details-model"),i;n.show();n.find(".closest-store").find(".store-find").show();n.find(".closest-store").find(".store-found").hide();i=t("#section-find-a-store").find(".closest-store");i.find(".store-find").show();i.find(".store-found").hide();t("html,body").unbind().animate({scrollTop:t("#section-details-model").offset().top-60},"slow")}function v(n){n.empty();n.append("<option value='0'>"+t("#list-model").attr("aria-labelledby")+"<\/option>");n.attr("disabled","disabled");t("#section-select-models").addClass("trdn-hide-mobile");t("#section-list-models").addClass("trdn-hide-mobile");s();f==null&&t("#quick-search-input").typeahead("val","")}function y(n){n.removeAttr("disabled");t("#section-select-models").removeClass("trdn-hide-mobile");t("#section-list-models").removeClass("trdn-hide-mobile");d(t("#section-list-manufacturer"))}function g(n){var r=t("#find-my-phone-section").attr("data-showfor").split(","),i=!1;return t.each(r,function(){i|=n.indexOf(this)>-1}),i}function nt(){s();t("#find-my-phone-section").hide()}function tt(n){for(var t,u,f=0;f<n.manufacturers.length;f++)if(t=n.manufacturers[f],t.parameters)for(u=0;u<t.parameters.length;u++)t.parameters[u].param_code=="TRADEIN"&&t.parameters[u].param_value=="1"&&r.append("<option value='"+t.manufacturer_code+"'>"+t.manufacturer_name+"<\/option>");v(i);ut()}function it(){var n="getManufacturers?session_id="+e+"&view_parameters=TRADEIN";o(u,n,tt)}function rt(){var n="getCatalogProductsLite?session_id="+e+"&category_code=TRADEIN&view_manufacturer=true&view_references_type=WEB_TAG&cache=true";o(u,n,function(n){var u=new Bloodhound({limit:10,datumTokenizer:Bloodhound.tokenizers.obj.whitespace("title","tags"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:t.map(n.products,function(n){var i="",t,r;if(n.catalog_references)for(t=0;t<n.catalog_references.length;t++)r=n.catalog_references[t],r.reference_type=="WEB_TAG"&&(i=i.concat(" "+r.reference_code));return{title:n.manufacturer.manufacturer_name+" "+n.product_title,manufacturer:{code:n.manufacturer.manufacturer_code,title:n.manufacturer.manufacturer_name},product:{code:n.product_code,title:n.product_title},tags:i}})}),i;u.initialize();i=t("#quick-search-input");i.typeahead({hint:!1,highlight:!0,minLength:1,autoselect:!1},{name:"models",displayKey:"title",source:u.ttAdapter(),templates:{header:t("#quick-search-header").html()}}).on("typeahead:selected",function(n,t){f=t.product.code;r.val(t.manufacturer.code);r.change()}).keydown(function(n){if(n.keyCode==13){var r;return u.get(n.currentTarget.value,function(i){t.each(i,function(t,i){i.title.toUpperCase()===n.currentTarget.value.toUpperCase()&&(r=i)})}),r&&(i.typeahead("val",r.title),i.trigger("blur"),i.trigger("typeahead:selected",r)),n.preventDefault(),!1}}).removeClass("tt-input");i.removeAttr("readonly");i.css("background-color","")})}function ut(){t.get("/ajax/Mobility/getTradeInProfile",function(n){try{n.code!=null&&n.code.length>0&&(f=n.code,r.val(n.manufactureCode),r.change())}catch(t){}}).fail(function(){})}function ft(n){t.post("/ajax/Mobility/persistTradeInProfile",{code:n.product_code,manufactureCode:n.manufacturer.manufacturer_code,manufacturer:n.manufacturer.manufacturer_name,productName:n.product_title,price:n.buyback_value_max,productImageUrl:""},function(){}).fail(function(){})}var u,c,p,e,r,i,f,w,h;return n.shop=n.shop||{},w=navigator.userAgent.match(/iPhone|iPad|iPod/i),n.shop.tradein={init:function(){if(t(".rsx-tradein-step").length==0){r=t("#list-manufacturer");u=r.attr("data-baseAddr");i=t("#list-model");c=t("#image-model").attr("data-imageaddr");p=t("#image-model").attr("data-noimageaddr");nt();k(u,"TradeIn_SBE","login?org_code={0}&entity_code={1}&username={2}&password={3}",function(n){e=n.session_id;it();rt()});r.change(function(){if(v(i),r.val()==="0"){y(i);i.change();return}var n="findCatalogModels?session_id="+e+"&category_code=TRADEIN&manufacturer_code="+r.val()+"&cache=true";o(u,n,function(n){var t,r;if(n&&n.models&&n.models.length!==0){for(t=0;t<n.models.length;t++)r=n.models[t],i.append("<option value='"+r.model_code+"'>"+r.model_title+"<\/option>");y(i);f&&(i.val(f),i.change(),f=null)}})});i.change(function(){if(f==null&&t("#quick-search-input").typeahead("val",""),i.val()==="0"){s();return}var n="getBuyBackProductsEstimate?session_id="+e+"&buyer_code=REDEEM&product_code="+i.val();o(u,n,function(n){var r,f,u;n&&n.products&&n.products.length!==0?(r=n.products[0],t("#title-model").html(r.product_title),t("#image-model").attr("src",c+r.product_code+".png"),f=r.buyback_value_max,u=t("#price-label-model"),f&&f>0?(u.html(u.attr("data-pricetitle")),t("#price-model").html("$"+f)):(u.html(u.attr("data-nopricetitle")),t("#price-model").empty()),a(),g(r.product_title)?t("#find-my-phone-section").show():t("#find-my-phone-section").hide(),ft(r)):l(i)},function(){l(i)})});h.closestStore(t("#details-model").find(".closest-store"));h.closestStore(t("#section-find-a-store").find(".closest-store"))}},_showUpdatingIndicator:function(){t("body").loadingIndicator({message:"Updating..."});t("body").loadingIndicator("show")},_hideUpdatingIndicator:function(){t("body").loadingIndicator("hide")},changeDisplayedPlan:function(n){var i=t(n.currentTarget).val();console.log(i)}},h=function(n,t){function r(n){n.find(".btn-find-store").click(function(){n.find(".store-find").hide();n.find(".store-found").show();i.find(function(t){if(t.ErrorText!=="Success")throw new Error("Failed loading stores information. ("+t.ErrorText+")");var i=t.Locations[0],u=[i.ADDR,i.CITY,i.STATE,i.ZIP,"Canada"].join(","),f=/iPhone|iPad|iPod/i.test(navigator.userAgent)?"http://maps.apple.com/?q="+u:"https://maps.google.com/?q="+u,r="<strong>"+i.NAME+"<\/strong><br/>"+i.ADDR+"<br/>"+i.CITY+", "+i.STATE+"<br/>";r+="<a href='tel:"+i.PHONE+"'>"+i.PHONE+"<\/a><br/>";r+="<span class='status "+i.OPEN_STATUS+"'>"+i.OPEN_TEXT+"<\/span>";n.find(".address").html(r).end().find(".btn-dir").attr("href",f)})})}var i=new n.StoreLocator(t("html").prop("lang"),"I");return{closestStore:r}}(BELL,jQuery),n}(BELL,jQuery);BELL.shop.tradein.init();$(document).on("click",".btn-get-simcard-multiSim",function(){try{var n=$(this).data("redirect-url");window.location.href=n}catch(t){console.log("Error redirecting to mutli sim listing page: ",t)}});$(document).on("click",".btn-activate-simcard-eSim",function(){try{var i=window.location.href,n=$(this).data("product-id");$(".prodDetailBuynow[data-product-id='"+n+"']").find("input.js-btnSolutionBuild").first().trigger("click")}catch(t){console.log("Error activating esim: ",t)}});$(document).on("click",".btn-get-simcard-multiSim-monthlyPlan",function(){try{var n=$(this).data("product-id");$(".prodDetailBuynow[data-product-id='"+n+"']").find("input.js-btnSolutionBuild").first().trigger("click")}catch(t){console.log("Error getting mutli sim for monthly plan: ",t)}});$(document).on("click",".btn-order-simcard",function(){try{var n=$(this).data("redirect-url");window.location.href=n}catch(t){console.log("Error redirecting to sim card product ordering page: ",t)}});BELL=function(n,t){return n.brf=n.brf||{},n.brf.utils={init:function(){t.fn.throttledResize=function(t){return t?this.bind("resize",n.brf.utils.debounce(t,100)):this.trigger("debounce")};t(document).ready(function(){n.brf.utils.hideBackToTopMobile();n.brf.utils.hideBackToTopDesktop();t("#inqC2CImgContainer_AnchoredB").bind("DOMNodeInserted DOMSubtreeModified DOMNodeRemoved",function(){n.brf.utils.checkChatMobile()});t(window).on("orientationchange",function(){n.brf.utils.checkChatMobile()&&n.brf.utils.setBackToTopMobile(t("#inqC2CImgContainer_AnchoredB").height()+10)});t(window).scroll(t.throttle(250,function(){n.brf.utils.checkChatMobile();t(window).innerWidth()<1025?(n.brf.utils.hideBackToTopDesktop(),t(this).scrollTop()>t(window).innerHeight()-150?(n.brf.utils.checkChatMobile()&&n.brf.utils.setBackToTopMobile(t("#inqC2CImgContainer_AnchoredB").height()+10),n.brf.utils.showBackToTopMobile()):n.brf.utils.hideBackToTopMobile()):(n.brf.utils.hideBackToTopMobile(),n.brf.utils.showBackToTopDesktop())}));t(".footer-backtotop-trigger").click(function(){return t("html,body").animate({scrollTop:0},"slow"),!1})});t(document).on("click","[data-prevent-default]",function(n){n.preventDefault()});t(document).on("click","[data-prevent-default-breakpoints]",function(i){var r=t(this).data("prevent-default-breakpoints").split(" ");t.inArray(n.brf.grid.getCurrentBreakpoint(),r)!==-1&&i.preventDefault()});t("[data-rsx-clone]").each(function(){var n=t(this),i=n.data("rsx-clone_remove");n.clone().removeAttr("data-rsx-clone data-rsx-clone_remove").appendTo(n.data("rsx-clone"));i&&n.remove()});t(window).width()>999&&typeof t(".scrollbar-inner").scrollbar!="undefined"&&t(".scrollbar-inner").scrollbar()},setBackToTopMobile:function(n){t(".footer-backtotop-trigger-mobile").css("bottom",n)},showBackToTopDesktop:function(){t(".footer-backtotop-desktop").show();t(".footer-backtotop-desktop").css("display","block");t(".footer-backtotop-trigger-desktop").show();t(".footer-backtotop-trigger-desktop").css("display","block")},hideBackToTopDesktop:function(){t(".footer-backtotop-desktop").hide();t(".footer-backtotop-desktop").css("display","none");t(".footer-backtotop-trigger-desktop").hide();t(".footer-backtotop-trigger-desktop").css("display","none")},showBackToTopMobile:function(){t(".footer-backtotop-mobile").show();t(".footer-backtotop-mobile").css("display","block");t(".footer-backtotop-trigger-mobile").show();t(".footer-backtotop-trigger-mobile").css("display","block")},hideBackToTopMobile:function(){t(".footer-backtotop-mobile").hide();t(".footer-backtotop-mobile").css("display","none");t(".footer-backtotop-trigger-mobile").hide();t(".footer-backtotop-trigger-mobile").css("display","none")},checkChatMobile:function(){var n=!1;return(t("#inqC2CImgContainer_AnchoredB").find("input").length&&t("#inqC2CImgContainer_AnchoredB input").attr("src").indexOf("bell_mob_global_anchor")>-1||t("#inqC2CImgContainer_AnchoredB").attr("style"))&&(n=!0),n},equalizeHeight:function(n,i,r){var u=this;r=typeof r=="boolean"?r:!0;n.each(function(){var f=t(this).children(i),n;f.css("height","");n=0;f.each(function(i,f){var e,o=t(f);e=r&&o.is(":visible")?o.outerHeight(!0):u.getHiddenHeight(o);e>n&&(n=e)});f.css("height",n+"px")})},getHiddenHeight:function(n){var t,i=n.attr("style");return n.attr("style","display: block !important;position: absolute !important;visibility: hidden !important;"),t=n.outerHeight(),n.attr("style",i||""),t},debounce:function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}},getCurrentBreakpoint:function(){var i,r=t(window).width();if(t.each(n.brf.breakpoints,function(n){if(r>=this.min&&(r<this.max||this.max===!1))return i=n,!1}),typeof i=="string")return i;throw"An error has occured retrieving the current breakpoint. Please ensure bell.brf.breakpoints and bell.brf.utils.getCurrentBreakpoint are properly defined.";},resetHeight:function(n){n.each(function(){var n=t(this);n.css("height","");n.css("height",n.outerHeight()+"px")})},initWidgets:function(n,i){i=typeof i=="string"?i:"brf";n=n instanceof t?n:t("body");var r,u,f;if(typeof t[i]!="object"){console.warn("BRF Framework: No widgets found inside $.%s",i);return}t.each(t[i],function(i,e){r=n.find('[data-widget="'+i+'"]');n.data("widget")===i&&(r=r.length>0?r.add(n):n);r.each(function(n,i){i=t(i);i.hasClass("init")||(i.addClass("init"),u={},t.each(e.prototype.options,function(n){f=i.data()[n];typeof f!="undefined"&&(u[n]=f)}),e(u,i))})})},normalizePrice:function(n){var i={dollars:"",cents:""},r=n.toString().split(".")[0],t=n.toString().split(".")[1];return i.dollars=r,i.cents=typeof t=="undefined"?"00":t.length===1?t+"0":t,i},getLocalElement:function(n,t,i){return n.closest(i).find(t)},loadingIndicator:function(t){if(t==="show")n.brf.$loadingIndicator.addClass("rsx-active");else if(t==="hide")n.brf.$loadingIndicator.removeClass("rsx-active");else return console.error('RSX Framework - utils.loadingIndicator: "%s" is not a valid state.',t),!1;return!0},stringToFunc:function(n){var t=window,i;for(n=n.split("."),i=0;i<n.length;i++)t=t[n[i]];return typeof t!="function"&&console.error("RSX Framework: '%s' is not a function.",n.join(".")),t},nonMilitaryHour:function(n){var t=n.getHours();return t>12&&(t=t-12),t===0&&(t=12),t},appendAmPm:function(n){var t="am";return n>11&&(t="pm"),n+" "+t},toggleClass:function(n,i,r){var r=r||"",u=t(n);r!==""&&(u=t(n).closest(r));u.hasClass(i)?u.removeClass(i):u.addClass(i)},stripAccentChar:function(n){for(var f,e,i,r=[String.fromCharCode(192),String.fromCharCode(193),String.fromCharCode(194),String.fromCharCode(195),String.fromCharCode(196),String.fromCharCode(197),String.fromCharCode(199),String.fromCharCode(200),String.fromCharCode(201),String.fromCharCode(202),String.fromCharCode(203),String.fromCharCode(204),String.fromCharCode(205),String.fromCharCode(206),String.fromCharCode(207),String.fromCharCode(209),String.fromCharCode(210),String.fromCharCode(211),String.fromCharCode(212),String.fromCharCode(213),String.fromCharCode(214),String.fromCharCode(217),String.fromCharCode(218),String.fromCharCode(219),String.fromCharCode(220),String.fromCharCode(221),String.fromCharCode(224),String.fromCharCode(225),String.fromCharCode(226),String.fromCharCode(227),String.fromCharCode(228),String.fromCharCode(229),String.fromCharCode(231),String.fromCharCode(232),String.fromCharCode(233),String.fromCharCode(234),String.fromCharCode(235),String.fromCharCode(236),String.fromCharCode(237),String.fromCharCode(238),String.fromCharCode(239),String.fromCharCode(241),String.fromCharCode(242),String.fromCharCode(243),String.fromCharCode(244),String.fromCharCode(245),String.fromCharCode(246),String.fromCharCode(249),String.fromCharCode(250),String.fromCharCode(251),String.fromCharCode(252),String.fromCharCode(252),String.fromCharCode(255)],o=["A","A","A","A","A","A","C","E","E","E","E","I","I","I","I","N","O","O","O","O","O","U","U","U","U","Y","a","a","a","a","a","a","c","e","e","e","e","i","i","i","i","n","o","o","o","o","o","u","u","u","u","y","y"],u={},t=0;t<r.length;t++)f=r[t],e=o[t],u[f]=e;return i=u[n],i==null||i===""?n:i},stripAccentString:function(t){var i;if(t==null)return null;var r=t.split(""),u="",f="";for(i=0;i<r.length;i++)u=r[i],f=n.brf.utils.stripAccentChar(u),r[i]=f;return r.join("")}},n.brf.utils.cookies={set:function(n,t,i){var u="",r;r=new Date;(!i||isNaN(i))&&(i=365);r.setTime(r.getTime()+i*864e5);u="; expires="+r.toGMTString();document.cookie=n+"="+t+u+"; path=/"},get:function(n){for(var r=n+"=",u=document.cookie.split(";"),t,i=0;i<u.length;i+=1){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null},remove:function(n){t.cookies.set(n,"",-10)}},n.brf.utils.accessibility={lastFocusedElement:document.activeElement,returnFocus:function(){var n=t(this.lastFocusedElement);n.is(":focus")||n.focus()}},n}(BELL||{},$)